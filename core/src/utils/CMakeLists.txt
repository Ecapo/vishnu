LINK_DIRECTORIES(${Boost_LIBRARY_DIRS})
INCLUDE_DIRECTORIES(${Boost_INCLUDE_DIRS})

INCLUDE_DIRECTORIES(
${DATA_BASE_INCLUDE_DIR}
${POSTGRESQL_INCLUDE_DIR}
${VISHNU_EXCEPTION_INCLUDE_DIR}
${CONFIG_SOURCE_DIR}
${EMF_DATA_DIR}
${UMS_DATA_DIR}
${FMS_EMF_DATA_DIR}
${FMS_DATA_DIR}
${EMF4CPP_INCLUDE_DIR}
${SERVER_SOURCE_DIR}
)

LINK_DIRECTORIES(
${DATA_BASE_INCLUDE_DIR}
)

ADD_LIBRARY(utils-vishnu STATIC
  utilVishnu
  utilClient
  Options
  sessionUtils
  CLICmd
  cliUtil
  )
SET_TARGET_PROPERTIES(utils-vishnu PROPERTIES COMPILE_FLAGS "-fPIC")

TARGET_LINK_LIBRARIES(
  utils-vishnu
  crypt
  exception-vishnu
)

ADD_LIBRARY(utils-server STATIC
  utilServer
  ssh/SSHExecImpl
  ssh/SSHExec
  ssh/SSHResult
  )
SET_TARGET_PROPERTIES(utils-server PROPERTIES COMPILE_FLAGS "-fPIC")

TARGET_LINK_LIBRARIES(
  utils-server
  utils-vishnu
  database-vishnu
)


INSTALL ( PROGRAMS sendmail.py DESTINATION sbin/)
