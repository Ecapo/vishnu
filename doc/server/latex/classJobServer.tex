\hypertarget{classJobServer}{
\section{JobServer Class Reference}
\label{classJobServer}\index{JobServer@{JobServer}}
}


\hyperlink{classJobServer}{JobServer} class implementation.  




{\ttfamily \#include $<$JobServer.hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classJobServer_a85b283abac959954b934611ca3cd1d73}{JobServer} (const \hyperlink{classSessionServer}{SessionServer} \&sessionServer, const std::string \&machineId, const TMS\_\-Data::Job \&job, const \hyperlink{utilVishnu_8hpp_a864d748e7097d176552dd4c7635016ea}{BatchType} \&batchType)
\begin{DoxyCompactList}\small\item\em Constructor. \item\end{DoxyCompactList}\item 
int \hyperlink{classJobServer_a45fc18d575cf6fa41f70dc77b970c61d}{submitJob} (const std::string \&scriptContent, const TMS\_\-Data::SubmitOptions \&options, const int \&vishnuId, const std::string \&slaveDirectory)
\begin{DoxyCompactList}\small\item\em Function to submit job. \item\end{DoxyCompactList}\item 
int \hyperlink{classJobServer_ae0a6c00f5021c43f749c5d901b5f0a84}{cancelJob} (const std::string \&slaveDirectory)
\begin{DoxyCompactList}\small\item\em Function to cancel job. \item\end{DoxyCompactList}\item 
TMS\_\-Data::Job \hyperlink{classJobServer_aabb62434e6c6e894b198f6016e7dd275}{getJobInfo} ()
\begin{DoxyCompactList}\small\item\em Function to get job information. \item\end{DoxyCompactList}\item 
TMS\_\-Data::Job \hyperlink{classJobServer_aa547d46ef7283e1b5d4ac9805b66479f}{getData} ()
\begin{DoxyCompactList}\small\item\em Function to get job data. \item\end{DoxyCompactList}\item 
\hypertarget{classJobServer_af74491ca82d110a87c204fd6e720191f}{
\hyperlink{classJobServer_af74491ca82d110a87c204fd6e720191f}{$\sim$JobServer} ()}
\label{classJobServer_af74491ca82d110a87c204fd6e720191f}

\begin{DoxyCompactList}\small\item\em Destructor. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classJobServer_ae14cd2f9ba17ced6186b5b7c0a53a781}{scanErrorMessage} (const std::string \&errorInfo, int \&code, std::string \&message)
\begin{DoxyCompactList}\small\item\em Function to scan VISHNU error message. \item\end{DoxyCompactList}\item 
long long \hyperlink{classJobServer_a01467503a79019299b03e3903cb334c6}{convertToTimeType} (std::string date)
\begin{DoxyCompactList}\small\item\em Function to convert a given date into correspondant long value. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classJobServer_a323af131d079442a3e54f01386973576}{
TMS\_\-Data::Job \hyperlink{classJobServer_a323af131d079442a3e54f01386973576}{mjob}}
\label{classJobServer_a323af131d079442a3e54f01386973576}

\begin{DoxyCompactList}\small\item\em job data structure \item\end{DoxyCompactList}\item 
\hypertarget{classJobServer_a72e6f65b8f124b927d47b3d31f7f4049}{
\hyperlink{classSessionServer}{SessionServer} \hyperlink{classJobServer_a72e6f65b8f124b927d47b3d31f7f4049}{msessionServer}}
\label{classJobServer_a72e6f65b8f124b927d47b3d31f7f4049}

\begin{DoxyCompactList}\small\item\em The object which encapsulates the session information. \item\end{DoxyCompactList}\item 
\hypertarget{classJobServer_ad9c1fc25152bb646b083e3e2b13df170}{
std::string \hyperlink{classJobServer_ad9c1fc25152bb646b083e3e2b13df170}{mmachineId}}
\label{classJobServer_ad9c1fc25152bb646b083e3e2b13df170}

\begin{DoxyCompactList}\small\item\em The machine identifier. \item\end{DoxyCompactList}\item 
\hypertarget{classJobServer_a98f94235e0110ae5bf3bb8dee3f45c0f}{
\hyperlink{utilVishnu_8hpp_a864d748e7097d176552dd4c7635016ea}{BatchType} \hyperlink{classJobServer_a98f94235e0110ae5bf3bb8dee3f45c0f}{mbatchType}}
\label{classJobServer_a98f94235e0110ae5bf3bb8dee3f45c0f}

\begin{DoxyCompactList}\small\item\em The type of the batch scheduler. \item\end{DoxyCompactList}\item 
\hypertarget{classJobServer_a293eaa4e6fe549b2445aa55121b633d5}{
\hyperlink{classDatabase}{Database} $\ast$ \hyperlink{classJobServer_a293eaa4e6fe549b2445aa55121b633d5}{mdatabaseVishnu}}
\label{classJobServer_a293eaa4e6fe549b2445aa55121b633d5}

\begin{DoxyCompactList}\small\item\em An instance of vishnu database. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classJobServer}{JobServer} class implementation. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classJobServer_a85b283abac959954b934611ca3cd1d73}{
\index{JobServer@{JobServer}!JobServer@{JobServer}}
\index{JobServer@{JobServer}!JobServer@{JobServer}}
\subsubsection[{JobServer}]{\setlength{\rightskip}{0pt plus 5cm}JobServer::JobServer (
\begin{DoxyParamCaption}
\item[{const {\bf SessionServer} \&}]{ sessionServer, }
\item[{const std::string \&}]{ machineId, }
\item[{const TMS\_\-Data::Job \&}]{ job, }
\item[{const {\bf BatchType} \&}]{ batchType}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}explicit\mbox{]}}}}
\label{classJobServer_a85b283abac959954b934611ca3cd1d73}


Constructor. 


\begin{DoxyParams}{Parameters}
\item[{\em sessionServer}]The object which encapsulates the session information \item[{\em machineId}]The machine identifier \item[{\em job}]The job data structure \item[{\em batchType}]The batch scheduler type \end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classJobServer_ae0a6c00f5021c43f749c5d901b5f0a84}{
\index{JobServer@{JobServer}!cancelJob@{cancelJob}}
\index{cancelJob@{cancelJob}!JobServer@{JobServer}}
\subsubsection[{cancelJob}]{\setlength{\rightskip}{0pt plus 5cm}int JobServer::cancelJob (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ slaveDirectory}
\end{DoxyParamCaption}
)}}
\label{classJobServer_ae0a6c00f5021c43f749c5d901b5f0a84}


Function to cancel job. 


\begin{DoxyParams}{Parameters}
\item[{\em slaveDirectory}]the path to the TMS slave executable \end{DoxyParams}
\begin{DoxyReturn}{Returns}
raises an exception on error 
\end{DoxyReturn}
\hypertarget{classJobServer_a01467503a79019299b03e3903cb334c6}{
\index{JobServer@{JobServer}!convertToTimeType@{convertToTimeType}}
\index{convertToTimeType@{convertToTimeType}!JobServer@{JobServer}}
\subsubsection[{convertToTimeType}]{\setlength{\rightskip}{0pt plus 5cm}long long JobServer::convertToTimeType (
\begin{DoxyParamCaption}
\item[{std::string}]{ date}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classJobServer_a01467503a79019299b03e3903cb334c6}


Function to convert a given date into correspondant long value. 


\begin{DoxyParams}{Parameters}
\item[{\em date}]The date to convert \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The converted value 
\end{DoxyReturn}
\hypertarget{classJobServer_aa547d46ef7283e1b5d4ac9805b66479f}{
\index{JobServer@{JobServer}!getData@{getData}}
\index{getData@{getData}!JobServer@{JobServer}}
\subsubsection[{getData}]{\setlength{\rightskip}{0pt plus 5cm}TMS\_\-Data::Job JobServer::getData (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classJobServer_aa547d46ef7283e1b5d4ac9805b66479f}


Function to get job data. 

\begin{DoxyReturn}{Returns}
The job data structure 
\end{DoxyReturn}
\hypertarget{classJobServer_aabb62434e6c6e894b198f6016e7dd275}{
\index{JobServer@{JobServer}!getJobInfo@{getJobInfo}}
\index{getJobInfo@{getJobInfo}!JobServer@{JobServer}}
\subsubsection[{getJobInfo}]{\setlength{\rightskip}{0pt plus 5cm}TMS\_\-Data::Job JobServer::getJobInfo (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classJobServer_aabb62434e6c6e894b198f6016e7dd275}


Function to get job information. 

\begin{DoxyReturn}{Returns}
The job data structure 
\end{DoxyReturn}
\hypertarget{classJobServer_ae14cd2f9ba17ced6186b5b7c0a53a781}{
\index{JobServer@{JobServer}!scanErrorMessage@{scanErrorMessage}}
\index{scanErrorMessage@{scanErrorMessage}!JobServer@{JobServer}}
\subsubsection[{scanErrorMessage}]{\setlength{\rightskip}{0pt plus 5cm}void JobServer::scanErrorMessage (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ errorInfo, }
\item[{int \&}]{ code, }
\item[{std::string \&}]{ message}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classJobServer_ae14cd2f9ba17ced6186b5b7c0a53a781}


Function to scan VISHNU error message. 


\begin{DoxyParams}{Parameters}
\item[{\em errorInfo}]the error information to scan \item[{\em code}]The code The code of the error \item[{\em message}]The message associeted to the error code \end{DoxyParams}
\begin{DoxyReturn}{Returns}
raises an exception on erroor 
\end{DoxyReturn}
\hypertarget{classJobServer_a45fc18d575cf6fa41f70dc77b970c61d}{
\index{JobServer@{JobServer}!submitJob@{submitJob}}
\index{submitJob@{submitJob}!JobServer@{JobServer}}
\subsubsection[{submitJob}]{\setlength{\rightskip}{0pt plus 5cm}int JobServer::submitJob (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ scriptContent, }
\item[{const TMS\_\-Data::SubmitOptions \&}]{ options, }
\item[{const int \&}]{ vishnuId, }
\item[{const std::string \&}]{ slaveDirectory}
\end{DoxyParamCaption}
)}}
\label{classJobServer_a45fc18d575cf6fa41f70dc77b970c61d}


Function to submit job. 


\begin{DoxyParams}{Parameters}
\item[{\em scriptContent}]the content of the script \item[{\em options}]the options to submit job \item[{\em vishnuId}]The VISHNU identifier \item[{\em slaveDirectory}]the path to the TMS slave executable \end{DoxyParams}
\begin{DoxyReturn}{Returns}
raises an exception on error 
\end{DoxyReturn}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
TMS/src/server/\hyperlink{JobServer_8hpp}{JobServer.hpp}\end{DoxyCompactItemize}
