\hypertarget{classProcessServer}{
\section{ProcessServer Class Reference}
\label{classProcessServer}\index{ProcessServer@{ProcessServer}}
}


Class linking the database and the processes.  




{\ttfamily \#include $<$ProcessServer.hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classProcessServer_a3e1ecbbc2ac00c59c35a15d6cc1ae6e6}{
\hyperlink{classProcessServer_a3e1ecbbc2ac00c59c35a15d6cc1ae6e6}{ProcessServer} (const \hyperlink{classUserServer}{UserServer} session)}
\label{classProcessServer_a3e1ecbbc2ac00c59c35a15d6cc1ae6e6}

\begin{DoxyCompactList}\small\item\em Constructor. \item\end{DoxyCompactList}\item 
\hypertarget{classProcessServer_a47eab90d27efe17a9bb19294477743d2}{
\hyperlink{classProcessServer_a47eab90d27efe17a9bb19294477743d2}{ProcessServer} (IMS\_\-Data::ProcessOp\_\-ptr op, const \hyperlink{classUserServer}{UserServer} session)}
\label{classProcessServer_a47eab90d27efe17a9bb19294477743d2}

\begin{DoxyCompactList}\small\item\em Constructor. \item\end{DoxyCompactList}\item 
\hypertarget{classProcessServer_a2cde590e023e93992adeb7ca1728ed19}{
\hyperlink{classProcessServer_a2cde590e023e93992adeb7ca1728ed19}{$\sim$ProcessServer} ()}
\label{classProcessServer_a2cde590e023e93992adeb7ca1728ed19}

\begin{DoxyCompactList}\small\item\em Destructor. \item\end{DoxyCompactList}\item 
IMS\_\-Data::ListProcesses $\ast$ \hyperlink{classProcessServer_a2b239564623f2866f884b2774b50a258}{list} ()
\begin{DoxyCompactList}\small\item\em Function to list query information. \item\end{DoxyCompactList}\item 
string \hyperlink{classProcessServer_a19a98c66886027c2d3fa019e7ce77784}{getCommandName} ()
\begin{DoxyCompactList}\small\item\em Function to get the name of the query command line. \item\end{DoxyCompactList}\item 
int \hyperlink{classProcessServer_affb3bba539691ff8e05890a9a98cea7a}{connectProcess} (IMS\_\-Data::Process\_\-ptr proc)
\begin{DoxyCompactList}\small\item\em To update the database with a process connexion. \item\end{DoxyCompactList}\item 
int \hyperlink{classProcessServer_aab1bad8a4cad8bea3db7a5fbe220e37a}{disconnectProcess} (IMS\_\-Data::Process\_\-ptr proc)
\begin{DoxyCompactList}\small\item\em To update the database with a process disconnexion. \item\end{DoxyCompactList}\item 
int \hyperlink{classProcessServer_a6606327ead9ca6bd50d195587f3d8d66}{authentifyProcess} (IMS\_\-Data::Process\_\-ptr proc)
\begin{DoxyCompactList}\small\item\em To update the database with the link between the diet and vishnu id. \item\end{DoxyCompactList}\item 
int \hyperlink{classProcessServer_a4ba31bc3a4c161334f65ff97ad5bed5f}{stopProcess} (IMS\_\-Data::Process\_\-ptr proc)
\begin{DoxyCompactList}\small\item\em To set a process as stopped. \item\end{DoxyCompactList}\item 
int \hyperlink{classProcessServer_aef604927a5e7f2bb3996cdfb9bd08e29}{setRestarted} (IMS\_\-Data::Process\_\-ptr proc)
\begin{DoxyCompactList}\small\item\em To set a process as stopped. \item\end{DoxyCompactList}\item 
int \hyperlink{classProcessServer_aa6e4cc71dc1a94b3d85c375298908f37}{stopAllProcesses} (IMS\_\-Data::Process\_\-ptr proc)
\begin{DoxyCompactList}\small\item\em To set all running processes as stopped on the machine. \item\end{DoxyCompactList}\item 
bool \hyperlink{classProcessServer_a886644ab325e838721bd482582e25be3}{isIMSSeD} (string Pname)
\begin{DoxyCompactList}\small\item\em Return true if the process with a diet name Pname is of type IMS. \item\end{DoxyCompactList}\item 
bool \hyperlink{classProcessServer_aacc5b51b54c41ebfa0e08c739dd9f31e}{checkStopped} (string machine, string type)
\begin{DoxyCompactList}\small\item\em Return true if the process with a diet name Pname is of type IMS. \item\end{DoxyCompactList}\item 
void \hyperlink{classProcessServer_ad48bec4be2d70b61135aeb323b448e84}{fillContent} (IMS\_\-Data::Process\_\-ptr p)
\begin{DoxyCompactList}\small\item\em To get the script content from the machineId and dietName. \item\end{DoxyCompactList}\item 
void \hyperlink{classProcessServer_ab5c0b53b66a0c8d1ac26d477db6958cd}{getDataFromDietId} (IMS\_\-Data::Process\_\-ptr p)
\begin{DoxyCompactList}\small\item\em To get the script content from the dietId. \item\end{DoxyCompactList}\item 
void \hyperlink{classProcessServer_ac99cd39c216e9c03c857241e093dbbe9}{getHost} (string mmid, string \&hostname, string \&acclog)
\begin{DoxyCompactList}\small\item\em To get the hostname on the machine mmid. \item\end{DoxyCompactList}\item 
string \hyperlink{classProcessServer_a496974be492e966314d02df205daf2a5}{getElectedMid} ()
\begin{DoxyCompactList}\small\item\em Return the last actif ims server. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classProcessServer_abe30c8b0c7e0e3fd38cff2e89b19a90b}{
static const int \hyperlink{classProcessServer_abe30c8b0c7e0e3fd38cff2e89b19a90b}{PRUNNING} = 1}
\label{classProcessServer_abe30c8b0c7e0e3fd38cff2e89b19a90b}

\begin{DoxyCompactList}\small\item\em If the process is running. \item\end{DoxyCompactList}\item 
\hypertarget{classProcessServer_ab2ca26a8193db9c0fa29131e627fed39}{
static const int \hyperlink{classProcessServer_ab2ca26a8193db9c0fa29131e627fed39}{PDOWN} = 2}
\label{classProcessServer_ab2ca26a8193db9c0fa29131e627fed39}

\begin{DoxyCompactList}\small\item\em If the process is down. \item\end{DoxyCompactList}\item 
\hypertarget{classProcessServer_a475fd76642aa4fc0909c09d16c5544d8}{
static const int \hyperlink{classProcessServer_a475fd76642aa4fc0909c09d16c5544d8}{PDELETED} = 3}
\label{classProcessServer_a475fd76642aa4fc0909c09d16c5544d8}

\begin{DoxyCompactList}\small\item\em If the process is deleted. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classProcessServer_a74ce252f5f1fc6c39f96756c24e3396b}{
IMS\_\-Data::ProcessOp\_\-ptr \hyperlink{classProcessServer_a74ce252f5f1fc6c39f96756c24e3396b}{mop}}
\label{classProcessServer_a74ce252f5f1fc6c39f96756c24e3396b}

\begin{DoxyCompactList}\small\item\em The list option. \item\end{DoxyCompactList}\item 
\hypertarget{classProcessServer_af002fedd1639ac6285b5b50796cecc0a}{
\hyperlink{classUserServer}{UserServer} \hyperlink{classProcessServer_af002fedd1639ac6285b5b50796cecc0a}{msession}}
\label{classProcessServer_af002fedd1639ac6285b5b50796cecc0a}

\begin{DoxyCompactList}\small\item\em The session. \item\end{DoxyCompactList}\item 
\hypertarget{classProcessServer_a759a462d74a3442af63e69368fcd332f}{
\hyperlink{classDatabase}{Database} $\ast$ \hyperlink{classProcessServer_a759a462d74a3442af63e69368fcd332f}{mdatabase}}
\label{classProcessServer_a759a462d74a3442af63e69368fcd332f}

\begin{DoxyCompactList}\small\item\em An instance of vishnu database. \item\end{DoxyCompactList}\item 
\hypertarget{classProcessServer_a1cc9f9e8f333ed7dc92917f8cee22bbb}{
string \hyperlink{classProcessServer_a1cc9f9e8f333ed7dc92917f8cee22bbb}{mcommandName}}
\label{classProcessServer_a1cc9f9e8f333ed7dc92917f8cee22bbb}

\begin{DoxyCompactList}\small\item\em The name of the command. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classProcessServer_a0ee90ae099f765889121f8e8a35f8e53}{
static const int \hyperlink{classProcessServer_a0ee90ae099f765889121f8e8a35f8e53}{NAMEPOS} = 2}
\label{classProcessServer_a0ee90ae099f765889121f8e8a35f8e53}

\begin{DoxyCompactList}\small\item\em Position of the diet name in the process table, starting at 0. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class linking the database and the processes. 

\subsection{Member Function Documentation}
\hypertarget{classProcessServer_a6606327ead9ca6bd50d195587f3d8d66}{
\index{ProcessServer@{ProcessServer}!authentifyProcess@{authentifyProcess}}
\index{authentifyProcess@{authentifyProcess}!ProcessServer@{ProcessServer}}
\subsubsection[{authentifyProcess}]{\setlength{\rightskip}{0pt plus 5cm}int ProcessServer::authentifyProcess (
\begin{DoxyParamCaption}
\item[{IMS\_\-Data::Process\_\-ptr}]{ proc}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_a6606327ead9ca6bd50d195587f3d8d66}


To update the database with the link between the diet and vishnu id. 


\begin{DoxyParams}{Parameters}
\item[{\em proc,:}]The process that has just been authentified \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Success, an error code otherwise 
\end{DoxyReturn}
\hypertarget{classProcessServer_aacc5b51b54c41ebfa0e08c739dd9f31e}{
\index{ProcessServer@{ProcessServer}!checkStopped@{checkStopped}}
\index{checkStopped@{checkStopped}!ProcessServer@{ProcessServer}}
\subsubsection[{checkStopped}]{\setlength{\rightskip}{0pt plus 5cm}bool ProcessServer::checkStopped (
\begin{DoxyParamCaption}
\item[{string}]{ machine, }
\item[{string}]{ type}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_aacc5b51b54c41ebfa0e08c739dd9f31e}


Return true if the process with a diet name Pname is of type IMS. 


\begin{DoxyParams}{Parameters}
\item[{\em machine,:}]The vishnu machine id \item[{\em type,:}]The type of the sed \end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if no process on this machine and of this type are down 
\end{DoxyReturn}
\hypertarget{classProcessServer_affb3bba539691ff8e05890a9a98cea7a}{
\index{ProcessServer@{ProcessServer}!connectProcess@{connectProcess}}
\index{connectProcess@{connectProcess}!ProcessServer@{ProcessServer}}
\subsubsection[{connectProcess}]{\setlength{\rightskip}{0pt plus 5cm}int ProcessServer::connectProcess (
\begin{DoxyParamCaption}
\item[{IMS\_\-Data::Process\_\-ptr}]{ proc}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_affb3bba539691ff8e05890a9a98cea7a}


To update the database with a process connexion. 


\begin{DoxyParams}{Parameters}
\item[{\em proc,:}]The process that has just connected \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Success, an error code otherwise 
\end{DoxyReturn}
\hypertarget{classProcessServer_aab1bad8a4cad8bea3db7a5fbe220e37a}{
\index{ProcessServer@{ProcessServer}!disconnectProcess@{disconnectProcess}}
\index{disconnectProcess@{disconnectProcess}!ProcessServer@{ProcessServer}}
\subsubsection[{disconnectProcess}]{\setlength{\rightskip}{0pt plus 5cm}int ProcessServer::disconnectProcess (
\begin{DoxyParamCaption}
\item[{IMS\_\-Data::Process\_\-ptr}]{ proc}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_aab1bad8a4cad8bea3db7a5fbe220e37a}


To update the database with a process disconnexion. 


\begin{DoxyParams}{Parameters}
\item[{\em proc,:}]The process that has just disconnected \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Success, an error code otherwise 
\end{DoxyReturn}
\hypertarget{classProcessServer_ad48bec4be2d70b61135aeb323b448e84}{
\index{ProcessServer@{ProcessServer}!fillContent@{fillContent}}
\index{fillContent@{fillContent}!ProcessServer@{ProcessServer}}
\subsubsection[{fillContent}]{\setlength{\rightskip}{0pt plus 5cm}void ProcessServer::fillContent (
\begin{DoxyParamCaption}
\item[{IMS\_\-Data::Process\_\-ptr}]{ p}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_ad48bec4be2d70b61135aeb323b448e84}


To get the script content from the machineId and dietName. 


\begin{DoxyParams}{Parameters}
\item[{\em p,:}]Process to fill \end{DoxyParams}
\hypertarget{classProcessServer_a19a98c66886027c2d3fa019e7ce77784}{
\index{ProcessServer@{ProcessServer}!getCommandName@{getCommandName}}
\index{getCommandName@{getCommandName}!ProcessServer@{ProcessServer}}
\subsubsection[{getCommandName}]{\setlength{\rightskip}{0pt plus 5cm}string ProcessServer::getCommandName (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_a19a98c66886027c2d3fa019e7ce77784}


Function to get the name of the query command line. 

\begin{DoxyReturn}{Returns}
The the name of the query command line 
\end{DoxyReturn}
\hypertarget{classProcessServer_ab5c0b53b66a0c8d1ac26d477db6958cd}{
\index{ProcessServer@{ProcessServer}!getDataFromDietId@{getDataFromDietId}}
\index{getDataFromDietId@{getDataFromDietId}!ProcessServer@{ProcessServer}}
\subsubsection[{getDataFromDietId}]{\setlength{\rightskip}{0pt plus 5cm}void ProcessServer::getDataFromDietId (
\begin{DoxyParamCaption}
\item[{IMS\_\-Data::Process\_\-ptr}]{ p}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_ab5c0b53b66a0c8d1ac26d477db6958cd}


To get the script content from the dietId. 


\begin{DoxyParams}{Parameters}
\item[{\em p,:}]Process to fill \end{DoxyParams}
\hypertarget{classProcessServer_a496974be492e966314d02df205daf2a5}{
\index{ProcessServer@{ProcessServer}!getElectedMid@{getElectedMid}}
\index{getElectedMid@{getElectedMid}!ProcessServer@{ProcessServer}}
\subsubsection[{getElectedMid}]{\setlength{\rightskip}{0pt plus 5cm}string ProcessServer::getElectedMid (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_a496974be492e966314d02df205daf2a5}


Return the last actif ims server. 

\begin{DoxyReturn}{Returns}
The last updated running IMS sed 
\end{DoxyReturn}
\hypertarget{classProcessServer_ac99cd39c216e9c03c857241e093dbbe9}{
\index{ProcessServer@{ProcessServer}!getHost@{getHost}}
\index{getHost@{getHost}!ProcessServer@{ProcessServer}}
\subsubsection[{getHost}]{\setlength{\rightskip}{0pt plus 5cm}void ProcessServer::getHost (
\begin{DoxyParamCaption}
\item[{string}]{ mmid, }
\item[{string \&}]{ hostname, }
\item[{string \&}]{ acclog}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_ac99cd39c216e9c03c857241e093dbbe9}


To get the hostname on the machine mmid. 


\begin{DoxyParams}{Parameters}
\item[{\em mmid,:}]Vishnu machine id \item[{\em hostname,:}]hostname of the machine \item[{\em acclog,:}]Account login of the user 'root' on the machine \end{DoxyParams}
\hypertarget{classProcessServer_a886644ab325e838721bd482582e25be3}{
\index{ProcessServer@{ProcessServer}!isIMSSeD@{isIMSSeD}}
\index{isIMSSeD@{isIMSSeD}!ProcessServer@{ProcessServer}}
\subsubsection[{isIMSSeD}]{\setlength{\rightskip}{0pt plus 5cm}bool ProcessServer::isIMSSeD (
\begin{DoxyParamCaption}
\item[{string}]{ Pname}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_a886644ab325e838721bd482582e25be3}


Return true if the process with a diet name Pname is of type IMS. 


\begin{DoxyParams}{Parameters}
\item[{\em Pname,:}]DIET name of the process \end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if Pname represents an IMS SeD 
\end{DoxyReturn}
\hypertarget{classProcessServer_a2b239564623f2866f884b2774b50a258}{
\index{ProcessServer@{ProcessServer}!list@{list}}
\index{list@{list}!ProcessServer@{ProcessServer}}
\subsubsection[{list}]{\setlength{\rightskip}{0pt plus 5cm}IMS\_\-Data::ListProcesses $\ast$ ProcessServer::list (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_a2b239564623f2866f884b2774b50a258}


Function to list query information. 

\begin{DoxyReturn}{Returns}
The pointer to the ListOject containing list information 

raises an exception on error 
\end{DoxyReturn}
\hypertarget{classProcessServer_aef604927a5e7f2bb3996cdfb9bd08e29}{
\index{ProcessServer@{ProcessServer}!setRestarted@{setRestarted}}
\index{setRestarted@{setRestarted}!ProcessServer@{ProcessServer}}
\subsubsection[{setRestarted}]{\setlength{\rightskip}{0pt plus 5cm}int ProcessServer::setRestarted (
\begin{DoxyParamCaption}
\item[{IMS\_\-Data::Process\_\-ptr}]{ proc}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_aef604927a5e7f2bb3996cdfb9bd08e29}


To set a process as stopped. 


\begin{DoxyParams}{Parameters}
\item[{\em proc,:}]The proc down to flag as stopped (means restarted) \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Success, an error code otherwise 
\end{DoxyReturn}
\hypertarget{classProcessServer_aa6e4cc71dc1a94b3d85c375298908f37}{
\index{ProcessServer@{ProcessServer}!stopAllProcesses@{stopAllProcesses}}
\index{stopAllProcesses@{stopAllProcesses}!ProcessServer@{ProcessServer}}
\subsubsection[{stopAllProcesses}]{\setlength{\rightskip}{0pt plus 5cm}int ProcessServer::stopAllProcesses (
\begin{DoxyParamCaption}
\item[{IMS\_\-Data::Process\_\-ptr}]{ proc}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_aa6e4cc71dc1a94b3d85c375298908f37}


To set all running processes as stopped on the machine. 


\begin{DoxyParams}{Parameters}
\item[{\em proc,:}]The proc to flag as stopped \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Success, an error code otherwise 
\end{DoxyReturn}
\hypertarget{classProcessServer_a4ba31bc3a4c161334f65ff97ad5bed5f}{
\index{ProcessServer@{ProcessServer}!stopProcess@{stopProcess}}
\index{stopProcess@{stopProcess}!ProcessServer@{ProcessServer}}
\subsubsection[{stopProcess}]{\setlength{\rightskip}{0pt plus 5cm}int ProcessServer::stopProcess (
\begin{DoxyParamCaption}
\item[{IMS\_\-Data::Process\_\-ptr}]{ proc}
\end{DoxyParamCaption}
)}}
\label{classProcessServer_a4ba31bc3a4c161334f65ff97ad5bed5f}


To set a process as stopped. 


\begin{DoxyParams}{Parameters}
\item[{\em proc,:}]The proc to flag as stopped \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Success, an error code otherwise 
\end{DoxyReturn}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
IMS/src/server/data/\hyperlink{ProcessServer_8hpp}{ProcessServer.hpp}\end{DoxyCompactItemize}
