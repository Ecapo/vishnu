\hypertarget{classFileTransferServer}{
\section{FileTransferServer Class Reference}
\label{classFileTransferServer}\index{FileTransferServer@{FileTransferServer}}
}


The main class to handle file transfer.  




{\ttfamily \#include $<$FileTransferServer.hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classFileTransferServer_a77efa82bd50ff9948b405be91f6abeb7}{FileTransferServer} (const \hyperlink{classSessionServer}{SessionServer} \&sessionServer, const int \&vishnuId)
\begin{DoxyCompactList}\small\item\em A constructor by value. \item\end{DoxyCompactList}\item 
\hyperlink{classFileTransferServer_aaac9cbbc17f04ff77957adbabeaa958f}{FileTransferServer} (const \hyperlink{classSessionServer}{SessionServer} \&sessionServer, const std::string \&srcHost, const std::string \&destHost, const std::string \&srcFilePath, const std::string \&destFilePath, const int \&vishnuId)
\begin{DoxyCompactList}\small\item\em Another constructor by value. \item\end{DoxyCompactList}\item 
int \hyperlink{classFileTransferServer_a907124bdf656c0ba203d642414503f2f}{addCpThread} (const std::string \&srcUser, const std::string \&srcMachineName, const std::string \&srcUserKey, const std::string \&destUser, const std::string \&destMachineName, const FMS\_\-Data::CpFileOptions \&options)
\begin{DoxyCompactList}\small\item\em To add a new copy thread. \item\end{DoxyCompactList}\item 
int \hyperlink{classFileTransferServer_ac7c5eee613fd0ba56c69fb1372ed6909}{addCpAsyncThread} (const std::string \&srcUser, const std::string \&srcMachineName, const std::string \&srcUserKey, const std::string \&destUser, const std::string \&destMachineName, const FMS\_\-Data::CpFileOptions \&options)
\begin{DoxyCompactList}\small\item\em To add a new asynchronous copy thread. \item\end{DoxyCompactList}\item 
int \hyperlink{classFileTransferServer_a1d17c8438d3b18e1064b9389772a0dc2}{addMvThread} (const std::string \&srcUser, const std::string \&srcMachineName, const std::string \&srcUserKey, const std::string \&destUser, const std::string \&destMachineName, const FMS\_\-Data::CpFileOptions \&options)
\begin{DoxyCompactList}\small\item\em To add a new move thread. \item\end{DoxyCompactList}\item 
int \hyperlink{classFileTransferServer_a6693b9cedb08cca79ea0e8ea42531ae0}{addMvAsyncThread} (const std::string \&srcUser, const std::string \&srcMachineName, const std::string \&srcUserKey, const std::string \&destUser, const std::string \&destMachineName, const FMS\_\-Data::CpFileOptions \&options)
\begin{DoxyCompactList}\small\item\em To add a new asynchronous move thread. \item\end{DoxyCompactList}\item 
int \hyperlink{classFileTransferServer_a6fefd4ae4019a033f4752ef6f887e260}{stopThread} (const StopTransferOptions \&options)
\begin{DoxyCompactList}\small\item\em To stop a file transfer thread. \item\end{DoxyCompactList}\item 
const FMS\_\-Data::FileTransfer \& \hyperlink{classFileTransferServer_a74fdd9bba334ebc37fb92f7e58aa7656}{getFileTransfer} () const 
\begin{DoxyCompactList}\small\item\em Get The file transfer information. \item\end{DoxyCompactList}\item 
void \hyperlink{classFileTransferServer_a9b1c4473cbfda5b90ef0e245fea1967a}{setFileTransfer} (const FMS\_\-Data::FileTransfer \&fileTransfer) const 
\begin{DoxyCompactList}\small\item\em Update The file transfer information. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classDatabase}{Database} $\ast$ \hyperlink{classFileTransferServer_a098c41a68962d23c89de533db7e4bc1b}{getDatabaseInstance} ()
\begin{DoxyCompactList}\small\item\em Get A database instance to store file transfer information. \item\end{DoxyCompactList}\item 
static void \hyperlink{classFileTransferServer_a9508d87be5880b7dc3fba61738815e70}{setSSHPort} (const unsigned int sshPort)
\begin{DoxyCompactList}\small\item\em Update the ssh port. \item\end{DoxyCompactList}\item 
static void \hyperlink{classFileTransferServer_a8cb07d4d9d4235dabcc333c9f6bdff03}{setSSHCommand} (const std::string \&sshCommand)
\begin{DoxyCompactList}\small\item\em Update the ssh command. \item\end{DoxyCompactList}\item 
static const unsigned int \hyperlink{classFileTransferServer_aaee462f295558e3a8a09f9665cceae50}{getSSHPort} ()
\begin{DoxyCompactList}\small\item\em Get the ssh port. \item\end{DoxyCompactList}\item 
static const std::string \& \hyperlink{classFileTransferServer_aed4fb1bbcb4a41dcdc2948ad16841da3}{getSSHCommand} ()
\begin{DoxyCompactList}\small\item\em Get the ssh command. \item\end{DoxyCompactList}\item 
static std::string \hyperlink{classFileTransferServer_a97fb412a9ccaedab645d1ee13376cd4f}{filterString} (const std::string \&toFilter)
\begin{DoxyCompactList}\small\item\em To remove some characters from string. \item\end{DoxyCompactList}\item 
static void \hyperlink{classFileTransferServer_a73de2897fd2e10695fc8cbfa0a1f4446}{checkTransferId} (std::string transferId)
\begin{DoxyCompactList}\small\item\em To check if the transfer identifier exists. \item\end{DoxyCompactList}\item 
static void \hyperlink{classFileTransferServer_a50d3535fc7434b2d94b4e70256fe752f}{addOptionRequest} (const std::string \&name, const std::string \&value, std::string \&request)
\begin{DoxyCompactList}\small\item\em To add options to sql request. \item\end{DoxyCompactList}\item 
static void \hyperlink{classFileTransferServer_af0dbce6cdaeaf7fd5df4cd19c9b51222}{checkUserId} (std::string userId)
\begin{DoxyCompactList}\small\item\em To check if the user identifier exists. \item\end{DoxyCompactList}\item 
static std::string \hyperlink{classFileTransferServer_a45145cc8d6a5ef953ec040f834efa609}{getErrorFromDatabase} (const std::string \&transferid)
\begin{DoxyCompactList}\small\item\em Get an error execution of file transfer from database. \item\end{DoxyCompactList}\item 
static std::string \hyperlink{classFileTransferServer_a6ee07b8fe009fe330bee05339f1b0b1d}{cleanOutputMsg} (const std::string \&outputMsg)
\begin{DoxyCompactList}\small\item\em A helper function to clean output message from verbosity. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classFileTransferServer_aed6e23958cb695eb11b96b33e2a23112}{
void \hyperlink{classFileTransferServer_aed6e23958cb695eb11b96b33e2a23112}{waitThread} ()}
\label{classFileTransferServer_aed6e23958cb695eb11b96b33e2a23112}

\begin{DoxyCompactList}\small\item\em To wait until the end of the file transfer. \item\end{DoxyCompactList}\item 
void \hyperlink{classFileTransferServer_ab150718ba4db1dd89a398f8a97325872}{getUserInfo} (std::string \&name, std::string \&userId)
\begin{DoxyCompactList}\small\item\em To get the client machine name and userId from database. \item\end{DoxyCompactList}\item 
int \hyperlink{classFileTransferServer_a865f8450b3fcf73b7596c04bd51bbcb0}{addTransferThread} (const std::string \&srcUser, const std::string \&srcMachineName, const std::string \&srcUserKey, const std::string \&destUser, const std::string \&destMachineName, const FMS\_\-Data::CpFileOptions \&options)
\begin{DoxyCompactList}\small\item\em acommon add transfer function used by the other add transfer function \item\end{DoxyCompactList}\item 
void \hyperlink{classFileTransferServer_aa791e828eb3aa23f3935273bed57af3b}{copy} (const \hyperlink{classTransferExec}{TransferExec} \&transferExec, const std::string \&trCmd)
\begin{DoxyCompactList}\small\item\em To perform a copy transfer. \item\end{DoxyCompactList}\item 
void \hyperlink{classFileTransferServer_a0825a813c09aaa4c63de51716ac440fd}{move} (const \hyperlink{classTransferExec}{TransferExec} \&transferExec, const std::string \&trCmd)
\begin{DoxyCompactList}\small\item\em To perform a move transfer. \item\end{DoxyCompactList}\item 
int \hyperlink{classFileTransferServer_a9a2974fdbd80f765d3727ed74e38c9b7}{stopThread} (const std::string \&transferid, const int \&pid)
\begin{DoxyCompactList}\small\item\em To stop a transfer. \item\end{DoxyCompactList}\item 
void \hyperlink{classFileTransferServer_a4f086a80ff1a621709b6c153bdabc5b5}{processOptions} (const FMS\_\-Data::StopTransferOptions \&options, std::string \&sqlRequest)
\begin{DoxyCompactList}\small\item\em To process database query options. \item\end{DoxyCompactList}\item 
void \hyperlink{classFileTransferServer_a2c1a6715aa823eb3cda6f7bb044628dc}{logIntoDatabase} (int processId=-\/1, const std::string \&errorMsg=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em To store file transfer information into database. \item\end{DoxyCompactList}\item 
\hypertarget{classFileTransferServer_ad2f26789b7f1dda7552263f9b1bebb5f}{
void \hyperlink{classFileTransferServer_ad2f26789b7f1dda7552263f9b1bebb5f}{updateData} ()}
\label{classFileTransferServer_ad2f26789b7f1dda7552263f9b1bebb5f}

\begin{DoxyCompactList}\small\item\em To Update file transfer data. \item\end{DoxyCompactList}\item 
void \hyperlink{classFileTransferServer_a05bff800da5a38808ccd9396d02ddd52}{updateStatus} (const FMS\_\-Data::Status \&status, const std::string \&transferId, const std::string \&errorMsg)
\begin{DoxyCompactList}\small\item\em To Update file transfer data in database. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classFileTransferServer_ae831f9f5ee7af30669bd7e79e213d964}{
int \hyperlink{classFileTransferServer_ae831f9f5ee7af30669bd7e79e213d964}{mvishnuId}}
\label{classFileTransferServer_ae831f9f5ee7af30669bd7e79e213d964}

\begin{DoxyCompactList}\small\item\em The vishnu instance identifier. \item\end{DoxyCompactList}\item 
\hypertarget{classFileTransferServer_a25140701b4a3fd9e4687e6e526f7c8ce}{
\hyperlink{classFile_a6b5e0e4ca04b9983349e02866ff1c659}{File::TransferType} \hyperlink{classFileTransferServer_a25140701b4a3fd9e4687e6e526f7c8ce}{mtransferType}}
\label{classFileTransferServer_a25140701b4a3fd9e4687e6e526f7c8ce}

\begin{DoxyCompactList}\small\item\em The file transfer type (copy or move). \item\end{DoxyCompactList}\item 
\hypertarget{classFileTransferServer_ae7657882a53251ad9d52713ed0891ff6}{
boost::thread \hyperlink{classFileTransferServer_ae7657882a53251ad9d52713ed0891ff6}{mthread}}
\label{classFileTransferServer_ae7657882a53251ad9d52713ed0891ff6}

\begin{DoxyCompactList}\small\item\em The file transfer execution thread. \item\end{DoxyCompactList}\item 
\hypertarget{classFileTransferServer_aa390e5c95d4320a41fd280f0911ad3a9}{
\hyperlink{classSessionServer}{SessionServer} \hyperlink{classFileTransferServer_aa390e5c95d4320a41fd280f0911ad3a9}{msessionServer}}
\label{classFileTransferServer_aa390e5c95d4320a41fd280f0911ad3a9}

\begin{DoxyCompactList}\small\item\em The session server object. \item\end{DoxyCompactList}\item 
\hypertarget{classFileTransferServer_a64d98425f4543f99d1e42b4e8c7772e0}{
boost::mutex \hyperlink{classFileTransferServer_a64d98425f4543f99d1e42b4e8c7772e0}{mmutex}}
\label{classFileTransferServer_a64d98425f4543f99d1e42b4e8c7772e0}

\begin{DoxyCompactList}\small\item\em A mutex to synchronise several transfer threads. \item\end{DoxyCompactList}\item 
\hypertarget{classFileTransferServer_aff7f097316707ea0a0620f0aaf6e37a1}{
FMS\_\-Data::FileTransfer \hyperlink{classFileTransferServer_aff7f097316707ea0a0620f0aaf6e37a1}{mfileTransfer}}
\label{classFileTransferServer_aff7f097316707ea0a0620f0aaf6e37a1}

\begin{DoxyCompactList}\small\item\em The file transfer information. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classFileTransferServer_a2c19a5bb38db230bab02e00b9453a81c}{
static unsigned int \hyperlink{classFileTransferServer_a2c19a5bb38db230bab02e00b9453a81c}{msshPort}}
\label{classFileTransferServer_a2c19a5bb38db230bab02e00b9453a81c}

\begin{DoxyCompactList}\small\item\em The ssh port. \item\end{DoxyCompactList}\item 
\hypertarget{classFileTransferServer_a32238020743cd582aa7bc6395a7ce99e}{
static std::string \hyperlink{classFileTransferServer_a32238020743cd582aa7bc6395a7ce99e}{msshCommand}}
\label{classFileTransferServer_a32238020743cd582aa7bc6395a7ce99e}

\begin{DoxyCompactList}\small\item\em The ssh command. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The main class to handle file transfer. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classFileTransferServer_a77efa82bd50ff9948b405be91f6abeb7}{
\index{FileTransferServer@{FileTransferServer}!FileTransferServer@{FileTransferServer}}
\index{FileTransferServer@{FileTransferServer}!FileTransferServer@{FileTransferServer}}
\subsubsection[{FileTransferServer}]{\setlength{\rightskip}{0pt plus 5cm}FileTransferServer::FileTransferServer (
\begin{DoxyParamCaption}
\item[{const {\bf SessionServer} \&}]{ sessionServer, }
\item[{const int \&}]{ vishnuId}
\end{DoxyParamCaption}
)}}
\label{classFileTransferServer_a77efa82bd50ff9948b405be91f6abeb7}


A constructor by value. 


\begin{DoxyParams}{Parameters}
\item[{\em sessionServer}]a session server object \item[{\em vishnuId}]The vishnu instance identifier \end{DoxyParams}
\hypertarget{classFileTransferServer_aaac9cbbc17f04ff77957adbabeaa958f}{
\index{FileTransferServer@{FileTransferServer}!FileTransferServer@{FileTransferServer}}
\index{FileTransferServer@{FileTransferServer}!FileTransferServer@{FileTransferServer}}
\subsubsection[{FileTransferServer}]{\setlength{\rightskip}{0pt plus 5cm}FileTransferServer::FileTransferServer (
\begin{DoxyParamCaption}
\item[{const {\bf SessionServer} \&}]{ sessionServer, }
\item[{const std::string \&}]{ srcHost, }
\item[{const std::string \&}]{ destHost, }
\item[{const std::string \&}]{ srcFilePath, }
\item[{const std::string \&}]{ destFilePath, }
\item[{const int \&}]{ vishnuId}
\end{DoxyParamCaption}
)}}
\label{classFileTransferServer_aaac9cbbc17f04ff77957adbabeaa958f}


Another constructor by value. 


\begin{DoxyParams}{Parameters}
\item[{\em sessionServer}]a session server object \item[{\em srcHost}]the source host \item[{\em destHost}]the destination host \item[{\em srcFilePath}]the source file path \item[{\em destFilePath}]the destination file path \item[{\em vishnuId}]the vishnu identifier \end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classFileTransferServer_ac7c5eee613fd0ba56c69fb1372ed6909}{
\index{FileTransferServer@{FileTransferServer}!addCpAsyncThread@{addCpAsyncThread}}
\index{addCpAsyncThread@{addCpAsyncThread}!FileTransferServer@{FileTransferServer}}
\subsubsection[{addCpAsyncThread}]{\setlength{\rightskip}{0pt plus 5cm}int FileTransferServer::addCpAsyncThread (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ srcUser, }
\item[{const std::string \&}]{ srcMachineName, }
\item[{const std::string \&}]{ srcUserKey, }
\item[{const std::string \&}]{ destUser, }
\item[{const std::string \&}]{ destMachineName, }
\item[{const FMS\_\-Data::CpFileOptions \&}]{ options}
\end{DoxyParamCaption}
)}}
\label{classFileTransferServer_ac7c5eee613fd0ba56c69fb1372ed6909}


To add a new asynchronous copy thread. 


\begin{DoxyParams}{Parameters}
\item[{\em srcUser}]the source user \item[{\em srcMachineName}]the source host \item[{\em srcUserKey}]the source user private key path \item[{\em destUser}]the destination user \item[{\em destMachineName}]the destination machine name \item[{\em options}]the transfer options \end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the service succeeds or an error code otherwise 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a907124bdf656c0ba203d642414503f2f}{
\index{FileTransferServer@{FileTransferServer}!addCpThread@{addCpThread}}
\index{addCpThread@{addCpThread}!FileTransferServer@{FileTransferServer}}
\subsubsection[{addCpThread}]{\setlength{\rightskip}{0pt plus 5cm}int FileTransferServer::addCpThread (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ srcUser, }
\item[{const std::string \&}]{ srcMachineName, }
\item[{const std::string \&}]{ srcUserKey, }
\item[{const std::string \&}]{ destUser, }
\item[{const std::string \&}]{ destMachineName, }
\item[{const FMS\_\-Data::CpFileOptions \&}]{ options}
\end{DoxyParamCaption}
)}}
\label{classFileTransferServer_a907124bdf656c0ba203d642414503f2f}


To add a new copy thread. 


\begin{DoxyParams}{Parameters}
\item[{\em srcUser}]the source user \item[{\em srcMachineName}]the source host \item[{\em srcUserKey}]the source user private key path \item[{\em destUser}]the destination user \item[{\em destMachineName}]the destination machine name \item[{\em options}]the transfer options \end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the service succeeds or an error code otherwise 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a6693b9cedb08cca79ea0e8ea42531ae0}{
\index{FileTransferServer@{FileTransferServer}!addMvAsyncThread@{addMvAsyncThread}}
\index{addMvAsyncThread@{addMvAsyncThread}!FileTransferServer@{FileTransferServer}}
\subsubsection[{addMvAsyncThread}]{\setlength{\rightskip}{0pt plus 5cm}int FileTransferServer::addMvAsyncThread (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ srcUser, }
\item[{const std::string \&}]{ srcMachineName, }
\item[{const std::string \&}]{ srcUserKey, }
\item[{const std::string \&}]{ destUser, }
\item[{const std::string \&}]{ destMachineName, }
\item[{const FMS\_\-Data::CpFileOptions \&}]{ options}
\end{DoxyParamCaption}
)}}
\label{classFileTransferServer_a6693b9cedb08cca79ea0e8ea42531ae0}


To add a new asynchronous move thread. 


\begin{DoxyParams}{Parameters}
\item[{\em srcUser}]the source user \item[{\em srcMachineName}]the source host \item[{\em srcUserKey}]the source user private key path \item[{\em destUser}]the destination user \item[{\em destMachineName}]the destination machine name \item[{\em options}]the transfer options \end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the service succeeds or an error code otherwise 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a1d17c8438d3b18e1064b9389772a0dc2}{
\index{FileTransferServer@{FileTransferServer}!addMvThread@{addMvThread}}
\index{addMvThread@{addMvThread}!FileTransferServer@{FileTransferServer}}
\subsubsection[{addMvThread}]{\setlength{\rightskip}{0pt plus 5cm}int FileTransferServer::addMvThread (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ srcUser, }
\item[{const std::string \&}]{ srcMachineName, }
\item[{const std::string \&}]{ srcUserKey, }
\item[{const std::string \&}]{ destUser, }
\item[{const std::string \&}]{ destMachineName, }
\item[{const FMS\_\-Data::CpFileOptions \&}]{ options}
\end{DoxyParamCaption}
)}}
\label{classFileTransferServer_a1d17c8438d3b18e1064b9389772a0dc2}


To add a new move thread. 


\begin{DoxyParams}{Parameters}
\item[{\em srcUser}]the source user \item[{\em srcMachineName}]the source host \item[{\em srcUserKey}]the source user private key path \item[{\em destUser}]the destination user \item[{\em destMachineName}]the destination machine name \item[{\em options}]the transfer options \end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the service succeeds or an error code otherwise 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a50d3535fc7434b2d94b4e70256fe752f}{
\index{FileTransferServer@{FileTransferServer}!addOptionRequest@{addOptionRequest}}
\index{addOptionRequest@{addOptionRequest}!FileTransferServer@{FileTransferServer}}
\subsubsection[{addOptionRequest}]{\setlength{\rightskip}{0pt plus 5cm}static void FileTransferServer::addOptionRequest (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ name, }
\item[{const std::string \&}]{ value, }
\item[{std::string \&}]{ request}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_a50d3535fc7434b2d94b4e70256fe752f}


To add options to sql request. 


\begin{DoxyParams}{Parameters}
\item[{\em name}]the option name \item[{\em value}]the option value \item[{\em request}]the sql request to modify \end{DoxyParams}
\hypertarget{classFileTransferServer_a865f8450b3fcf73b7596c04bd51bbcb0}{
\index{FileTransferServer@{FileTransferServer}!addTransferThread@{addTransferThread}}
\index{addTransferThread@{addTransferThread}!FileTransferServer@{FileTransferServer}}
\subsubsection[{addTransferThread}]{\setlength{\rightskip}{0pt plus 5cm}int FileTransferServer::addTransferThread (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ srcUser, }
\item[{const std::string \&}]{ srcMachineName, }
\item[{const std::string \&}]{ srcUserKey, }
\item[{const std::string \&}]{ destUser, }
\item[{const std::string \&}]{ destMachineName, }
\item[{const FMS\_\-Data::CpFileOptions \&}]{ options}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFileTransferServer_a865f8450b3fcf73b7596c04bd51bbcb0}


acommon add transfer function used by the other add transfer function 


\begin{DoxyParams}{Parameters}
\item[{\em srcUser}]the source user \item[{\em srcMachineName}]the source host \item[{\em srcUserKey}]the source user private key path \item[{\em destUser}]the destination user \item[{\em destMachineName}]the destination machine name \item[{\em options}]the transfer options \end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the service succeeds or an error code otherwise 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a73de2897fd2e10695fc8cbfa0a1f4446}{
\index{FileTransferServer@{FileTransferServer}!checkTransferId@{checkTransferId}}
\index{checkTransferId@{checkTransferId}!FileTransferServer@{FileTransferServer}}
\subsubsection[{checkTransferId}]{\setlength{\rightskip}{0pt plus 5cm}static void FileTransferServer::checkTransferId (
\begin{DoxyParamCaption}
\item[{std::string}]{ transferId}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_a73de2897fd2e10695fc8cbfa0a1f4446}


To check if the transfer identifier exists. 


\begin{DoxyParams}{Parameters}
\item[{\em transferId}]the transfer identifier \end{DoxyParams}
\hypertarget{classFileTransferServer_af0dbce6cdaeaf7fd5df4cd19c9b51222}{
\index{FileTransferServer@{FileTransferServer}!checkUserId@{checkUserId}}
\index{checkUserId@{checkUserId}!FileTransferServer@{FileTransferServer}}
\subsubsection[{checkUserId}]{\setlength{\rightskip}{0pt plus 5cm}static void FileTransferServer::checkUserId (
\begin{DoxyParamCaption}
\item[{std::string}]{ userId}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_af0dbce6cdaeaf7fd5df4cd19c9b51222}


To check if the user identifier exists. 


\begin{DoxyParams}{Parameters}
\item[{\em userId}]the user identifier \end{DoxyParams}
\hypertarget{classFileTransferServer_a6ee07b8fe009fe330bee05339f1b0b1d}{
\index{FileTransferServer@{FileTransferServer}!cleanOutputMsg@{cleanOutputMsg}}
\index{cleanOutputMsg@{cleanOutputMsg}!FileTransferServer@{FileTransferServer}}
\subsubsection[{cleanOutputMsg}]{\setlength{\rightskip}{0pt plus 5cm}static std::string FileTransferServer::cleanOutputMsg (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ outputMsg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_a6ee07b8fe009fe330bee05339f1b0b1d}


A helper function to clean output message from verbosity. 


\begin{DoxyParams}{Parameters}
\item[{\em outputMsg}]the output message \end{DoxyParams}
\begin{DoxyReturn}{Returns}
the cleaned output message 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_aa791e828eb3aa23f3935273bed57af3b}{
\index{FileTransferServer@{FileTransferServer}!copy@{copy}}
\index{copy@{copy}!FileTransferServer@{FileTransferServer}}
\subsubsection[{copy}]{\setlength{\rightskip}{0pt plus 5cm}void FileTransferServer::copy (
\begin{DoxyParamCaption}
\item[{const {\bf TransferExec} \&}]{ transferExec, }
\item[{const std::string \&}]{ trCmd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFileTransferServer_aa791e828eb3aa23f3935273bed57af3b}


To perform a copy transfer. 


\begin{DoxyParams}{Parameters}
\item[{\em transferExec}]the information about the transfer \item[{\em trCmd}]the transfer command \end{DoxyParams}
\hypertarget{classFileTransferServer_a97fb412a9ccaedab645d1ee13376cd4f}{
\index{FileTransferServer@{FileTransferServer}!filterString@{filterString}}
\index{filterString@{filterString}!FileTransferServer@{FileTransferServer}}
\subsubsection[{filterString}]{\setlength{\rightskip}{0pt plus 5cm}static std::string FileTransferServer::filterString (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ toFilter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_a97fb412a9ccaedab645d1ee13376cd4f}


To remove some characters from string. 


\begin{DoxyParams}{Parameters}
\item[{\em toFilter}]the string to filter \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The cleaned string 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a098c41a68962d23c89de533db7e4bc1b}{
\index{FileTransferServer@{FileTransferServer}!getDatabaseInstance@{getDatabaseInstance}}
\index{getDatabaseInstance@{getDatabaseInstance}!FileTransferServer@{FileTransferServer}}
\subsubsection[{getDatabaseInstance}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Database}$\ast$ FileTransferServer::getDatabaseInstance (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_a098c41a68962d23c89de533db7e4bc1b}


Get A database instance to store file transfer information. 

\begin{DoxyReturn}{Returns}
the database instance 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a45145cc8d6a5ef953ec040f834efa609}{
\index{FileTransferServer@{FileTransferServer}!getErrorFromDatabase@{getErrorFromDatabase}}
\index{getErrorFromDatabase@{getErrorFromDatabase}!FileTransferServer@{FileTransferServer}}
\subsubsection[{getErrorFromDatabase}]{\setlength{\rightskip}{0pt plus 5cm}static std::string FileTransferServer::getErrorFromDatabase (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ transferid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_a45145cc8d6a5ef953ec040f834efa609}


Get an error execution of file transfer from database. 


\begin{DoxyParams}{Parameters}
\item[{\em transferid}]the transfer identifier \end{DoxyParams}
\begin{DoxyReturn}{Returns}
the error message 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a74fdd9bba334ebc37fb92f7e58aa7656}{
\index{FileTransferServer@{FileTransferServer}!getFileTransfer@{getFileTransfer}}
\index{getFileTransfer@{getFileTransfer}!FileTransferServer@{FileTransferServer}}
\subsubsection[{getFileTransfer}]{\setlength{\rightskip}{0pt plus 5cm}const FMS\_\-Data::FileTransfer\& FileTransferServer::getFileTransfer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}
\label{classFileTransferServer_a74fdd9bba334ebc37fb92f7e58aa7656}


Get The file transfer information. 

\begin{DoxyReturn}{Returns}
The file transfer information 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_aed4fb1bbcb4a41dcdc2948ad16841da3}{
\index{FileTransferServer@{FileTransferServer}!getSSHCommand@{getSSHCommand}}
\index{getSSHCommand@{getSSHCommand}!FileTransferServer@{FileTransferServer}}
\subsubsection[{getSSHCommand}]{\setlength{\rightskip}{0pt plus 5cm}static const std::string\& FileTransferServer::getSSHCommand (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_aed4fb1bbcb4a41dcdc2948ad16841da3}


Get the ssh command. 

\begin{DoxyReturn}{Returns}
the ssh command 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_aaee462f295558e3a8a09f9665cceae50}{
\index{FileTransferServer@{FileTransferServer}!getSSHPort@{getSSHPort}}
\index{getSSHPort@{getSSHPort}!FileTransferServer@{FileTransferServer}}
\subsubsection[{getSSHPort}]{\setlength{\rightskip}{0pt plus 5cm}static const unsigned int FileTransferServer::getSSHPort (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_aaee462f295558e3a8a09f9665cceae50}


Get the ssh port. 

\begin{DoxyReturn}{Returns}
the ssh port 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_ab150718ba4db1dd89a398f8a97325872}{
\index{FileTransferServer@{FileTransferServer}!getUserInfo@{getUserInfo}}
\index{getUserInfo@{getUserInfo}!FileTransferServer@{FileTransferServer}}
\subsubsection[{getUserInfo}]{\setlength{\rightskip}{0pt plus 5cm}void FileTransferServer::getUserInfo (
\begin{DoxyParamCaption}
\item[{std::string \&}]{ name, }
\item[{std::string \&}]{ userId}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFileTransferServer_ab150718ba4db1dd89a398f8a97325872}


To get the client machine name and userId from database. 


\begin{DoxyParams}{Parameters}
\item[{\em name}]to store the client machine name \item[{\em userId}]to store the userId \end{DoxyParams}
\hypertarget{classFileTransferServer_a2c1a6715aa823eb3cda6f7bb044628dc}{
\index{FileTransferServer@{FileTransferServer}!logIntoDatabase@{logIntoDatabase}}
\index{logIntoDatabase@{logIntoDatabase}!FileTransferServer@{FileTransferServer}}
\subsubsection[{logIntoDatabase}]{\setlength{\rightskip}{0pt plus 5cm}void FileTransferServer::logIntoDatabase (
\begin{DoxyParamCaption}
\item[{int}]{ processId = {\ttfamily -\/1}, }
\item[{const std::string \&}]{ errorMsg = {\ttfamily \char`\"{}\char`\"{}}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFileTransferServer_a2c1a6715aa823eb3cda6f7bb044628dc}


To store file transfer information into database. 


\begin{DoxyParams}{Parameters}
\item[{\em processId}]the transfer process identifier \item[{\em errorMsg}]the eventual file transfer execution error message \end{DoxyParams}
\hypertarget{classFileTransferServer_a0825a813c09aaa4c63de51716ac440fd}{
\index{FileTransferServer@{FileTransferServer}!move@{move}}
\index{move@{move}!FileTransferServer@{FileTransferServer}}
\subsubsection[{move}]{\setlength{\rightskip}{0pt plus 5cm}void FileTransferServer::move (
\begin{DoxyParamCaption}
\item[{const {\bf TransferExec} \&}]{ transferExec, }
\item[{const std::string \&}]{ trCmd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFileTransferServer_a0825a813c09aaa4c63de51716ac440fd}


To perform a move transfer. 


\begin{DoxyParams}{Parameters}
\item[{\em transferExec}]the information about the transfer \item[{\em trCmd}]the transfer command \end{DoxyParams}
\hypertarget{classFileTransferServer_a4f086a80ff1a621709b6c153bdabc5b5}{
\index{FileTransferServer@{FileTransferServer}!processOptions@{processOptions}}
\index{processOptions@{processOptions}!FileTransferServer@{FileTransferServer}}
\subsubsection[{processOptions}]{\setlength{\rightskip}{0pt plus 5cm}void FileTransferServer::processOptions (
\begin{DoxyParamCaption}
\item[{const FMS\_\-Data::StopTransferOptions \&}]{ options, }
\item[{std::string \&}]{ sqlRequest}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFileTransferServer_a4f086a80ff1a621709b6c153bdabc5b5}


To process database query options. 


\begin{DoxyParams}{Parameters}
\item[{\em options}]the stop options \item[{\em sqlRequest}]the sql request \end{DoxyParams}
\hypertarget{classFileTransferServer_a9b1c4473cbfda5b90ef0e245fea1967a}{
\index{FileTransferServer@{FileTransferServer}!setFileTransfer@{setFileTransfer}}
\index{setFileTransfer@{setFileTransfer}!FileTransferServer@{FileTransferServer}}
\subsubsection[{setFileTransfer}]{\setlength{\rightskip}{0pt plus 5cm}void FileTransferServer::setFileTransfer (
\begin{DoxyParamCaption}
\item[{const FMS\_\-Data::FileTransfer \&}]{ fileTransfer}
\end{DoxyParamCaption}
) const}}
\label{classFileTransferServer_a9b1c4473cbfda5b90ef0e245fea1967a}


Update The file transfer information. 


\begin{DoxyParams}{Parameters}
\item[{\em fileTransfer}]The new file transfer information \end{DoxyParams}
\hypertarget{classFileTransferServer_a8cb07d4d9d4235dabcc333c9f6bdff03}{
\index{FileTransferServer@{FileTransferServer}!setSSHCommand@{setSSHCommand}}
\index{setSSHCommand@{setSSHCommand}!FileTransferServer@{FileTransferServer}}
\subsubsection[{setSSHCommand}]{\setlength{\rightskip}{0pt plus 5cm}static void FileTransferServer::setSSHCommand (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ sshCommand}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_a8cb07d4d9d4235dabcc333c9f6bdff03}


Update the ssh command. 


\begin{DoxyParams}{Parameters}
\item[{\em sshCommand}]The new ssh command \end{DoxyParams}
\hypertarget{classFileTransferServer_a9508d87be5880b7dc3fba61738815e70}{
\index{FileTransferServer@{FileTransferServer}!setSSHPort@{setSSHPort}}
\index{setSSHPort@{setSSHPort}!FileTransferServer@{FileTransferServer}}
\subsubsection[{setSSHPort}]{\setlength{\rightskip}{0pt plus 5cm}static void FileTransferServer::setSSHPort (
\begin{DoxyParamCaption}
\item[{const unsigned int}]{ sshPort}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classFileTransferServer_a9508d87be5880b7dc3fba61738815e70}


Update the ssh port. 


\begin{DoxyParams}{Parameters}
\item[{\em sshPort}]The new ssh port \end{DoxyParams}
\hypertarget{classFileTransferServer_a9a2974fdbd80f765d3727ed74e38c9b7}{
\index{FileTransferServer@{FileTransferServer}!stopThread@{stopThread}}
\index{stopThread@{stopThread}!FileTransferServer@{FileTransferServer}}
\subsubsection[{stopThread}]{\setlength{\rightskip}{0pt plus 5cm}int FileTransferServer::stopThread (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ transferid, }
\item[{const int \&}]{ pid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFileTransferServer_a9a2974fdbd80f765d3727ed74e38c9b7}


To stop a transfer. 


\begin{DoxyParams}{Parameters}
\item[{\em transferid}]the transfer identifier \item[{\em pid}]the transfer process identifier \end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the process succeeds or an error code otherwise 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a6fefd4ae4019a033f4752ef6f887e260}{
\index{FileTransferServer@{FileTransferServer}!stopThread@{stopThread}}
\index{stopThread@{stopThread}!FileTransferServer@{FileTransferServer}}
\subsubsection[{stopThread}]{\setlength{\rightskip}{0pt plus 5cm}int FileTransferServer::stopThread (
\begin{DoxyParamCaption}
\item[{const StopTransferOptions \&}]{ options}
\end{DoxyParamCaption}
)}}
\label{classFileTransferServer_a6fefd4ae4019a033f4752ef6f887e260}


To stop a file transfer thread. 


\begin{DoxyParams}{Parameters}
\item[{\em options}]the stop file transfer options \end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the service succeeds or an error code otherwise 
\end{DoxyReturn}
\hypertarget{classFileTransferServer_a05bff800da5a38808ccd9396d02ddd52}{
\index{FileTransferServer@{FileTransferServer}!updateStatus@{updateStatus}}
\index{updateStatus@{updateStatus}!FileTransferServer@{FileTransferServer}}
\subsubsection[{updateStatus}]{\setlength{\rightskip}{0pt plus 5cm}void FileTransferServer::updateStatus (
\begin{DoxyParamCaption}
\item[{const FMS\_\-Data::Status \&}]{ status, }
\item[{const std::string \&}]{ transferId, }
\item[{const std::string \&}]{ errorMsg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFileTransferServer_a05bff800da5a38808ccd9396d02ddd52}


To Update file transfer data in database. 


\begin{DoxyParams}{Parameters}
\item[{\em status}]the last execution status \item[{\em transferId}]the transfer identifier \item[{\em errorMsg}]the eventual file transfer execution error message \end{DoxyParams}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
FMS/src/server/\hyperlink{FileTransferServer_8hpp}{FileTransferServer.hpp}\end{DoxyCompactItemize}
