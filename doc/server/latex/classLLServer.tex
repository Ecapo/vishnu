\hypertarget{classLLServer}{
\section{LLServer Class Reference}
\label{classLLServer}\index{LLServer@{LLServer}}
}


\hyperlink{classLLServer}{LLServer} class implementation.  




{\ttfamily \#include $<$LLServer.hpp$>$}

Inheritance diagram for LLServer:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classLLServer}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classLLServer_a4e8e2d9350b695e53dfbfe41a673ab61}{
\hyperlink{classLLServer_a4e8e2d9350b695e53dfbfe41a673ab61}{LLServer} ()}
\label{classLLServer_a4e8e2d9350b695e53dfbfe41a673ab61}

\begin{DoxyCompactList}\small\item\em Constructor. \item\end{DoxyCompactList}\item 
int \hyperlink{classLLServer_a69115c3fd71ea7449003156d50508b37}{submit} (const char $\ast$scriptPath, const TMS\_\-Data::SubmitOptions \&options, TMS\_\-Data::Job \&job, char $\ast$$\ast$envp=NULL)
\begin{DoxyCompactList}\small\item\em Function to submit LL job. \item\end{DoxyCompactList}\item 
int \hyperlink{classLLServer_ac547f34f2fcdfb1a8950de77fd8377e1}{cancel} (const char $\ast$jobId)
\begin{DoxyCompactList}\small\item\em Function to cancel job. \item\end{DoxyCompactList}\item 
int \hyperlink{classLLServer_a9a47c22111b809031c69879f10ce4b03}{getJobState} (const std::string \&jobId)
\begin{DoxyCompactList}\small\item\em Function to get the status of the job. \item\end{DoxyCompactList}\item 
time\_\-t \hyperlink{classLLServer_a9ee6e489594d927c1c4c24fb03a16492}{getJobStartTime} (const std::string \&jobId)
\begin{DoxyCompactList}\small\item\em Function to get the start time of the job. \item\end{DoxyCompactList}\item 
TMS\_\-Data::ListQueues $\ast$ \hyperlink{classLLServer_ae804a87a0a62253ec3b90eb8d409ffd1}{listQueues} (const std::string \&optQueueName=std::string())
\begin{DoxyCompactList}\small\item\em Function to request the status of queues. \item\end{DoxyCompactList}\item 
\hypertarget{classLLServer_a6ce6925164e8a184e1b3883e8e8a07c6}{
\hyperlink{classLLServer_a6ce6925164e8a184e1b3883e8e8a07c6}{$\sim$LLServer} ()}
\label{classLLServer_a6ce6925164e8a184e1b3883e8e8a07c6}

\begin{DoxyCompactList}\small\item\em Destructor. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classLLServer_a12ec697d6b846611c1e67ac1057d4ee0}{insertOptionLine} (const std::string \&optionLineToInsert, std::string \&content)
\begin{DoxyCompactList}\small\item\em Function to insert option into string. \item\end{DoxyCompactList}\item 
void \hyperlink{classLLServer_a54487bfb5d744a3b892e22127f3643ea}{processOptions} (const char $\ast$scriptPath, const TMS\_\-Data::SubmitOptions \&options)
\begin{DoxyCompactList}\small\item\em Function to treat the submission options. \item\end{DoxyCompactList}\item 
int \hyperlink{classLLServer_a0691e56eda4540ad4379a60ce1e5f3f5}{convertLLStateToVishnuState} (int state)
\begin{DoxyCompactList}\small\item\em Function to convert the LL state into VISHNU state. \item\end{DoxyCompactList}\item 
int \hyperlink{classLLServer_a8649f7c42ad24f66215a63d12e2d54a6}{convertLLPrioToVishnuPrio} (const int \&prio)
\begin{DoxyCompactList}\small\item\em Function to convert the LL priority into VISHNU priority. \item\end{DoxyCompactList}\item 
int \hyperlink{classLLServer_a3a9587a14a7cfb5e308b0f8173649cf9}{computeNbRunJobsAndQueueJobs} (std::map$<$ std::string, size\_\-t $>$ \&run, std::map$<$ std::string, size\_\-t $>$ \&que)
\begin{DoxyCompactList}\small\item\em Function to compute the number of running and waiting jobs of each queue. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classLLServer_a753c355ca93eb090880be918d1b54bf6}{
TMS\_\-Data::ListQueues\_\-ptr \hyperlink{classLLServer_a753c355ca93eb090880be918d1b54bf6}{mlistQueues}}
\label{classLLServer_a753c355ca93eb090880be918d1b54bf6}

\begin{DoxyCompactList}\small\item\em ListQueues returned. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classLLServer}{LLServer} class implementation. 

\subsection{Member Function Documentation}
\hypertarget{classLLServer_ac547f34f2fcdfb1a8950de77fd8377e1}{
\index{LLServer@{LLServer}!cancel@{cancel}}
\index{cancel@{cancel}!LLServer@{LLServer}}
\subsubsection[{cancel}]{\setlength{\rightskip}{0pt plus 5cm}int LLServer::cancel (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{ jobId}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classLLServer_ac547f34f2fcdfb1a8950de77fd8377e1}


Function to cancel job. 


\begin{DoxyParams}{Parameters}
\item[{\em jobId}]the identifier of the job to cancel \end{DoxyParams}
\begin{DoxyReturn}{Returns}
raises an exception on error 
\end{DoxyReturn}


Implements \hyperlink{classBatchServer_af40bbd83fa2bd1f1720e29800227cdb0}{BatchServer}.

\hypertarget{classLLServer_a3a9587a14a7cfb5e308b0f8173649cf9}{
\index{LLServer@{LLServer}!computeNbRunJobsAndQueueJobs@{computeNbRunJobsAndQueueJobs}}
\index{computeNbRunJobsAndQueueJobs@{computeNbRunJobsAndQueueJobs}!LLServer@{LLServer}}
\subsubsection[{computeNbRunJobsAndQueueJobs}]{\setlength{\rightskip}{0pt plus 5cm}int LLServer::computeNbRunJobsAndQueueJobs (
\begin{DoxyParamCaption}
\item[{std::map$<$ std::string, size\_\-t $>$ \&}]{ run, }
\item[{std::map$<$ std::string, size\_\-t $>$ \&}]{ que}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLLServer_a3a9587a14a7cfb5e308b0f8173649cf9}


Function to compute the number of running and waiting jobs of each queue. 


\begin{DoxyParams}{Parameters}
\item[{\em run}]contains the number of running jobs of each queue \item[{\em que}]contains the number of waiting jobs of each queue \end{DoxyParams}
\begin{DoxyReturn}{Returns}
raises an exception on error 
\end{DoxyReturn}
\hypertarget{classLLServer_a8649f7c42ad24f66215a63d12e2d54a6}{
\index{LLServer@{LLServer}!convertLLPrioToVishnuPrio@{convertLLPrioToVishnuPrio}}
\index{convertLLPrioToVishnuPrio@{convertLLPrioToVishnuPrio}!LLServer@{LLServer}}
\subsubsection[{convertLLPrioToVishnuPrio}]{\setlength{\rightskip}{0pt plus 5cm}int LLServer::convertLLPrioToVishnuPrio (
\begin{DoxyParamCaption}
\item[{const int \&}]{ prio}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLLServer_a8649f7c42ad24f66215a63d12e2d54a6}


Function to convert the LL priority into VISHNU priority. 


\begin{DoxyParams}{Parameters}
\item[{\em prio}]the priority to convert \end{DoxyParams}
\begin{DoxyReturn}{Returns}
VISHNU state 
\end{DoxyReturn}
\hypertarget{classLLServer_a0691e56eda4540ad4379a60ce1e5f3f5}{
\index{LLServer@{LLServer}!convertLLStateToVishnuState@{convertLLStateToVishnuState}}
\index{convertLLStateToVishnuState@{convertLLStateToVishnuState}!LLServer@{LLServer}}
\subsubsection[{convertLLStateToVishnuState}]{\setlength{\rightskip}{0pt plus 5cm}int LLServer::convertLLStateToVishnuState (
\begin{DoxyParamCaption}
\item[{int}]{ state}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLLServer_a0691e56eda4540ad4379a60ce1e5f3f5}


Function to convert the LL state into VISHNU state. 


\begin{DoxyParams}{Parameters}
\item[{\em state}]the state to convert \end{DoxyParams}
\begin{DoxyReturn}{Returns}
VISHNU state 
\end{DoxyReturn}
\hypertarget{classLLServer_a9ee6e489594d927c1c4c24fb03a16492}{
\index{LLServer@{LLServer}!getJobStartTime@{getJobStartTime}}
\index{getJobStartTime@{getJobStartTime}!LLServer@{LLServer}}
\subsubsection[{getJobStartTime}]{\setlength{\rightskip}{0pt plus 5cm}time\_\-t LLServer::getJobStartTime (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ jobId}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classLLServer_a9ee6e489594d927c1c4c24fb03a16492}


Function to get the start time of the job. 


\begin{DoxyParams}{Parameters}
\item[{\em jobId}]the identifier of the job \end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the job is unknown or server not unavailable 
\end{DoxyReturn}


Implements \hyperlink{classBatchServer_aa43eebf4a61d0d61646b7595630d2ef1}{BatchServer}.

\hypertarget{classLLServer_a9a47c22111b809031c69879f10ce4b03}{
\index{LLServer@{LLServer}!getJobState@{getJobState}}
\index{getJobState@{getJobState}!LLServer@{LLServer}}
\subsubsection[{getJobState}]{\setlength{\rightskip}{0pt plus 5cm}int LLServer::getJobState (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ jobId}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classLLServer_a9a47c22111b809031c69879f10ce4b03}


Function to get the status of the job. 


\begin{DoxyParams}{Parameters}
\item[{\em jobId}]the identifier of the job \end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 if the job is unknown or server not unavailable 
\end{DoxyReturn}


Implements \hyperlink{classBatchServer_ac82e407645e4ad185cf59edcee832d58}{BatchServer}.

\hypertarget{classLLServer_a12ec697d6b846611c1e67ac1057d4ee0}{
\index{LLServer@{LLServer}!insertOptionLine@{insertOptionLine}}
\index{insertOptionLine@{insertOptionLine}!LLServer@{LLServer}}
\subsubsection[{insertOptionLine}]{\setlength{\rightskip}{0pt plus 5cm}void LLServer::insertOptionLine (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ optionLineToInsert, }
\item[{std::string \&}]{ content}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLLServer_a12ec697d6b846611c1e67ac1057d4ee0}


Function to insert option into string. 


\begin{DoxyParams}{Parameters}
\item[{\em optionLineToInsert}]the option to insert \item[{\em content}]The buffer containing the inserted option \end{DoxyParams}
\begin{DoxyReturn}{Returns}
raises an exception on error 
\end{DoxyReturn}
\hypertarget{classLLServer_ae804a87a0a62253ec3b90eb8d409ffd1}{
\index{LLServer@{LLServer}!listQueues@{listQueues}}
\index{listQueues@{listQueues}!LLServer@{LLServer}}
\subsubsection[{listQueues}]{\setlength{\rightskip}{0pt plus 5cm}TMS\_\-Data::ListQueues$\ast$ LLServer::listQueues (
\begin{DoxyParamCaption}
\item[{const std::string \&}]{ optQueueName = {\ttfamily std::string()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classLLServer_ae804a87a0a62253ec3b90eb8d409ffd1}


Function to request the status of queues. 


\begin{DoxyParams}{Parameters}
\item[{\em optQueueName}](optional) the name of the queue to request \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The requested status in to ListQueues data structure 
\end{DoxyReturn}


Implements \hyperlink{classBatchServer_ab5cb2d2073b50e7c1f81693baed942ea}{BatchServer}.

\hypertarget{classLLServer_a54487bfb5d744a3b892e22127f3643ea}{
\index{LLServer@{LLServer}!processOptions@{processOptions}}
\index{processOptions@{processOptions}!LLServer@{LLServer}}
\subsubsection[{processOptions}]{\setlength{\rightskip}{0pt plus 5cm}void LLServer::processOptions (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{ scriptPath, }
\item[{const TMS\_\-Data::SubmitOptions \&}]{ options}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLLServer_a54487bfb5d744a3b892e22127f3643ea}


Function to treat the submission options. 


\begin{DoxyParams}{Parameters}
\item[{\em scriptPath}]The job script path \item[{\em options}]the object which contains the SubmitOptions options values \end{DoxyParams}
\begin{DoxyReturn}{Returns}
raises an exception on error 
\end{DoxyReturn}
\hypertarget{classLLServer_a69115c3fd71ea7449003156d50508b37}{
\index{LLServer@{LLServer}!submit@{submit}}
\index{submit@{submit}!LLServer@{LLServer}}
\subsubsection[{submit}]{\setlength{\rightskip}{0pt plus 5cm}int LLServer::submit (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{ scriptPath, }
\item[{const TMS\_\-Data::SubmitOptions \&}]{ options, }
\item[{TMS\_\-Data::Job \&}]{ job, }
\item[{char $\ast$$\ast$}]{ envp = {\ttfamily NULL}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classLLServer_a69115c3fd71ea7449003156d50508b37}


Function to submit LL job. 


\begin{DoxyParams}{Parameters}
\item[{\em scriptPath}]the path to the script containing the job characteristique \item[{\em options}]the options to submit job \item[{\em job}]The job data structure \item[{\em envp}]The list of environment variables used by LL submission function \end{DoxyParams}
\begin{DoxyReturn}{Returns}
raises an exception on error 
\end{DoxyReturn}


Implements \hyperlink{classBatchServer_a078c0f8605e770c02b8eca0351526f59}{BatchServer}.



The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
TMS/src/server/\hyperlink{LLServer_8hpp}{LLServer.hpp}\end{DoxyCompactItemize}
