<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>FileTransferServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<h1>FileTransferServer Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="FileTransferServer" -->
<p>The main class to handle file transfer.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="FileTransferServer_8hpp_source.html">FileTransferServer.hpp</a>&gt;</code></p>

<p><a href="classFileTransferServer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a77efa82bd50ff9948b405be91f6abeb7">FileTransferServer</a> (const <a class="el" href="classSessionServer.html">SessionServer</a> &amp;sessionServer, const int &amp;vishnuId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A constructor by value.  <a href="#a77efa82bd50ff9948b405be91f6abeb7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#aaac9cbbc17f04ff77957adbabeaa958f">FileTransferServer</a> (const <a class="el" href="classSessionServer.html">SessionServer</a> &amp;sessionServer, const std::string &amp;srcHost, const std::string &amp;destHost, const std::string &amp;srcFilePath, const std::string &amp;destFilePath, const int &amp;vishnuId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Another constructor by value.  <a href="#aaac9cbbc17f04ff77957adbabeaa958f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a907124bdf656c0ba203d642414503f2f">addCpThread</a> (const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To add a new copy thread.  <a href="#a907124bdf656c0ba203d642414503f2f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#ac7c5eee613fd0ba56c69fb1372ed6909">addCpAsyncThread</a> (const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To add a new asynchronous copy thread.  <a href="#ac7c5eee613fd0ba56c69fb1372ed6909"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a1d17c8438d3b18e1064b9389772a0dc2">addMvThread</a> (const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To add a new move thread.  <a href="#a1d17c8438d3b18e1064b9389772a0dc2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a6693b9cedb08cca79ea0e8ea42531ae0">addMvAsyncThread</a> (const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To add a new asynchronous move thread.  <a href="#a6693b9cedb08cca79ea0e8ea42531ae0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a6fefd4ae4019a033f4752ef6f887e260">stopThread</a> (const StopTransferOptions &amp;options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To stop a file transfer thread.  <a href="#a6fefd4ae4019a033f4752ef6f887e260"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const FMS_Data::FileTransfer &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a74fdd9bba334ebc37fb92f7e58aa7656">getFileTransfer</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get The file transfer information.  <a href="#a74fdd9bba334ebc37fb92f7e58aa7656"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a9b1c4473cbfda5b90ef0e245fea1967a">setFileTransfer</a> (const FMS_Data::FileTransfer &amp;fileTransfer) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update The file transfer information.  <a href="#a9b1c4473cbfda5b90ef0e245fea1967a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classDatabase.html">Database</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a098c41a68962d23c89de533db7e4bc1b">getDatabaseInstance</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get A database instance to store file transfer information.  <a href="#a098c41a68962d23c89de533db7e4bc1b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a9508d87be5880b7dc3fba61738815e70">setSSHPort</a> (const unsigned int sshPort)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the ssh port.  <a href="#a9508d87be5880b7dc3fba61738815e70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a8cb07d4d9d4235dabcc333c9f6bdff03">setSSHCommand</a> (const std::string &amp;sshCommand)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the ssh command.  <a href="#a8cb07d4d9d4235dabcc333c9f6bdff03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#aaee462f295558e3a8a09f9665cceae50">getSSHPort</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the ssh port.  <a href="#aaee462f295558e3a8a09f9665cceae50"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#aed4fb1bbcb4a41dcdc2948ad16841da3">getSSHCommand</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the ssh command.  <a href="#aed4fb1bbcb4a41dcdc2948ad16841da3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a97fb412a9ccaedab645d1ee13376cd4f">filterString</a> (const std::string &amp;toFilter)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To remove some characters from string.  <a href="#a97fb412a9ccaedab645d1ee13376cd4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a73de2897fd2e10695fc8cbfa0a1f4446">checkTransferId</a> (std::string transferId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To check if the transfer identifier exists.  <a href="#a73de2897fd2e10695fc8cbfa0a1f4446"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a50d3535fc7434b2d94b4e70256fe752f">addOptionRequest</a> (const std::string &amp;name, const std::string &amp;value, std::string &amp;request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To add options to sql request.  <a href="#a50d3535fc7434b2d94b4e70256fe752f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#af0dbce6cdaeaf7fd5df4cd19c9b51222">checkUserId</a> (std::string userId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To check if the user identifier exists.  <a href="#af0dbce6cdaeaf7fd5df4cd19c9b51222"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a45145cc8d6a5ef953ec040f834efa609">getErrorFromDatabase</a> (const std::string &amp;transferid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get an error execution of file transfer from database.  <a href="#a45145cc8d6a5ef953ec040f834efa609"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a6ee07b8fe009fe330bee05339f1b0b1d">cleanOutputMsg</a> (const std::string &amp;outputMsg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A helper function to clean output message from verbosity.  <a href="#a6ee07b8fe009fe330bee05339f1b0b1d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed6e23958cb695eb11b96b33e2a23112"></a><!-- doxytag: member="FileTransferServer::waitThread" ref="aed6e23958cb695eb11b96b33e2a23112" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#aed6e23958cb695eb11b96b33e2a23112">waitThread</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To wait until the end of the file transfer. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#ab150718ba4db1dd89a398f8a97325872">getUserInfo</a> (std::string &amp;name, std::string &amp;userId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To get the client machine name and userId from database.  <a href="#ab150718ba4db1dd89a398f8a97325872"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a865f8450b3fcf73b7596c04bd51bbcb0">addTransferThread</a> (const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">acommon add transfer function used by the other add transfer function  <a href="#a865f8450b3fcf73b7596c04bd51bbcb0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#aa791e828eb3aa23f3935273bed57af3b">copy</a> (const <a class="el" href="classTransferExec.html">TransferExec</a> &amp;transferExec, const std::string &amp;trCmd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To perform a copy transfer.  <a href="#aa791e828eb3aa23f3935273bed57af3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a0825a813c09aaa4c63de51716ac440fd">move</a> (const <a class="el" href="classTransferExec.html">TransferExec</a> &amp;transferExec, const std::string &amp;trCmd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To perform a move transfer.  <a href="#a0825a813c09aaa4c63de51716ac440fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a9a2974fdbd80f765d3727ed74e38c9b7">stopThread</a> (const std::string &amp;transferid, const int &amp;pid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To stop a transfer.  <a href="#a9a2974fdbd80f765d3727ed74e38c9b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a4f086a80ff1a621709b6c153bdabc5b5">processOptions</a> (const FMS_Data::StopTransferOptions &amp;options, std::string &amp;sqlRequest)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To process database query options.  <a href="#a4f086a80ff1a621709b6c153bdabc5b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a2c1a6715aa823eb3cda6f7bb044628dc">logIntoDatabase</a> (int processId=-1, const std::string &amp;errorMsg=&quot;&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To store file transfer information into database.  <a href="#a2c1a6715aa823eb3cda6f7bb044628dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2f26789b7f1dda7552263f9b1bebb5f"></a><!-- doxytag: member="FileTransferServer::updateData" ref="ad2f26789b7f1dda7552263f9b1bebb5f" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#ad2f26789b7f1dda7552263f9b1bebb5f">updateData</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To Update file transfer data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a05bff800da5a38808ccd9396d02ddd52">updateStatus</a> (const FMS_Data::Status &amp;status, const std::string &amp;transferId, const std::string &amp;errorMsg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To Update file transfer data in database.  <a href="#a05bff800da5a38808ccd9396d02ddd52"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae831f9f5ee7af30669bd7e79e213d964"></a><!-- doxytag: member="FileTransferServer::mvishnuId" ref="ae831f9f5ee7af30669bd7e79e213d964" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#ae831f9f5ee7af30669bd7e79e213d964">mvishnuId</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The vishnu instance identifier. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25140701b4a3fd9e4687e6e526f7c8ce"></a><!-- doxytag: member="FileTransferServer::mtransferType" ref="a25140701b4a3fd9e4687e6e526f7c8ce" args="" -->
<a class="el" href="classFile.html#a6b5e0e4ca04b9983349e02866ff1c659">File::TransferType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a25140701b4a3fd9e4687e6e526f7c8ce">mtransferType</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The file transfer type (copy or move). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7657882a53251ad9d52713ed0891ff6"></a><!-- doxytag: member="FileTransferServer::mthread" ref="ae7657882a53251ad9d52713ed0891ff6" args="" -->
boost::thread&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#ae7657882a53251ad9d52713ed0891ff6">mthread</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The file transfer execution thread. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa390e5c95d4320a41fd280f0911ad3a9"></a><!-- doxytag: member="FileTransferServer::msessionServer" ref="aa390e5c95d4320a41fd280f0911ad3a9" args="" -->
<a class="el" href="classSessionServer.html">SessionServer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#aa390e5c95d4320a41fd280f0911ad3a9">msessionServer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The session server object. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64d98425f4543f99d1e42b4e8c7772e0"></a><!-- doxytag: member="FileTransferServer::mmutex" ref="a64d98425f4543f99d1e42b4e8c7772e0" args="" -->
boost::mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a64d98425f4543f99d1e42b4e8c7772e0">mmutex</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A mutex to synchronise several transfer threads. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff7f097316707ea0a0620f0aaf6e37a1"></a><!-- doxytag: member="FileTransferServer::mfileTransfer" ref="aff7f097316707ea0a0620f0aaf6e37a1" args="" -->
FMS_Data::FileTransfer&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#aff7f097316707ea0a0620f0aaf6e37a1">mfileTransfer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The file transfer information. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c19a5bb38db230bab02e00b9453a81c"></a><!-- doxytag: member="FileTransferServer::msshPort" ref="a2c19a5bb38db230bab02e00b9453a81c" args="" -->
static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a2c19a5bb38db230bab02e00b9453a81c">msshPort</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The ssh port. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32238020743cd582aa7bc6395a7ce99e"></a><!-- doxytag: member="FileTransferServer::msshCommand" ref="a32238020743cd582aa7bc6395a7ce99e" args="" -->
static std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileTransferServer.html#a32238020743cd582aa7bc6395a7ce99e">msshCommand</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The ssh command. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The main class to handle file transfer. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a77efa82bd50ff9948b405be91f6abeb7"></a><!-- doxytag: member="FileTransferServer::FileTransferServer" ref="a77efa82bd50ff9948b405be91f6abeb7" args="(const SessionServer &amp;sessionServer, const int &amp;vishnuId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FileTransferServer::FileTransferServer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSessionServer.html">SessionServer</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sessionServer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&nbsp;</td>
          <td class="paramname"> <em>vishnuId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A constructor by value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sessionServer</em>&nbsp;</td><td>a session server object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vishnuId</em>&nbsp;</td><td>The vishnu instance identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaac9cbbc17f04ff77957adbabeaa958f"></a><!-- doxytag: member="FileTransferServer::FileTransferServer" ref="aaac9cbbc17f04ff77957adbabeaa958f" args="(const SessionServer &amp;sessionServer, const std::string &amp;srcHost, const std::string &amp;destHost, const std::string &amp;srcFilePath, const std::string &amp;destFilePath, const int &amp;vishnuId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FileTransferServer::FileTransferServer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSessionServer.html">SessionServer</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sessionServer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcHost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destHost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcFilePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destFilePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&nbsp;</td>
          <td class="paramname"> <em>vishnuId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Another constructor by value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sessionServer</em>&nbsp;</td><td>a session server object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcHost</em>&nbsp;</td><td>the source host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destHost</em>&nbsp;</td><td>the destination host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcFilePath</em>&nbsp;</td><td>the source file path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destFilePath</em>&nbsp;</td><td>the destination file path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vishnuId</em>&nbsp;</td><td>the vishnu identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac7c5eee613fd0ba56c69fb1372ed6909"></a><!-- doxytag: member="FileTransferServer::addCpAsyncThread" ref="ac7c5eee613fd0ba56c69fb1372ed6909" args="(const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileTransferServer::addCpAsyncThread </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUserKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FMS_Data::CpFileOptions &amp;&nbsp;</td>
          <td class="paramname"> <em>options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To add a new asynchronous copy thread. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srcUser</em>&nbsp;</td><td>the source user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcMachineName</em>&nbsp;</td><td>the source host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcUserKey</em>&nbsp;</td><td>the source user private key path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destUser</em>&nbsp;</td><td>the destination user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destMachineName</em>&nbsp;</td><td>the destination machine name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>the transfer options </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the service succeeds or an error code otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a907124bdf656c0ba203d642414503f2f"></a><!-- doxytag: member="FileTransferServer::addCpThread" ref="a907124bdf656c0ba203d642414503f2f" args="(const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileTransferServer::addCpThread </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUserKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FMS_Data::CpFileOptions &amp;&nbsp;</td>
          <td class="paramname"> <em>options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To add a new copy thread. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srcUser</em>&nbsp;</td><td>the source user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcMachineName</em>&nbsp;</td><td>the source host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcUserKey</em>&nbsp;</td><td>the source user private key path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destUser</em>&nbsp;</td><td>the destination user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destMachineName</em>&nbsp;</td><td>the destination machine name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>the transfer options </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the service succeeds or an error code otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a6693b9cedb08cca79ea0e8ea42531ae0"></a><!-- doxytag: member="FileTransferServer::addMvAsyncThread" ref="a6693b9cedb08cca79ea0e8ea42531ae0" args="(const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileTransferServer::addMvAsyncThread </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUserKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FMS_Data::CpFileOptions &amp;&nbsp;</td>
          <td class="paramname"> <em>options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To add a new asynchronous move thread. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srcUser</em>&nbsp;</td><td>the source user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcMachineName</em>&nbsp;</td><td>the source host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcUserKey</em>&nbsp;</td><td>the source user private key path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destUser</em>&nbsp;</td><td>the destination user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destMachineName</em>&nbsp;</td><td>the destination machine name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>the transfer options </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the service succeeds or an error code otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a1d17c8438d3b18e1064b9389772a0dc2"></a><!-- doxytag: member="FileTransferServer::addMvThread" ref="a1d17c8438d3b18e1064b9389772a0dc2" args="(const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileTransferServer::addMvThread </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUserKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FMS_Data::CpFileOptions &amp;&nbsp;</td>
          <td class="paramname"> <em>options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To add a new move thread. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srcUser</em>&nbsp;</td><td>the source user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcMachineName</em>&nbsp;</td><td>the source host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcUserKey</em>&nbsp;</td><td>the source user private key path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destUser</em>&nbsp;</td><td>the destination user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destMachineName</em>&nbsp;</td><td>the destination machine name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>the transfer options </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the service succeeds or an error code otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a50d3535fc7434b2d94b4e70256fe752f"></a><!-- doxytag: member="FileTransferServer::addOptionRequest" ref="a50d3535fc7434b2d94b4e70256fe752f" args="(const std::string &amp;name, const std::string &amp;value, std::string &amp;request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void FileTransferServer::addOptionRequest </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>request</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To add options to sql request. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the option name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the option value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>request</em>&nbsp;</td><td>the sql request to modify </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a865f8450b3fcf73b7596c04bd51bbcb0"></a><!-- doxytag: member="FileTransferServer::addTransferThread" ref="a865f8450b3fcf73b7596c04bd51bbcb0" args="(const std::string &amp;srcUser, const std::string &amp;srcMachineName, const std::string &amp;srcUserKey, const std::string &amp;destUser, const std::string &amp;destMachineName, const FMS_Data::CpFileOptions &amp;options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileTransferServer::addTransferThread </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>srcUserKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>destMachineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FMS_Data::CpFileOptions &amp;&nbsp;</td>
          <td class="paramname"> <em>options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>acommon add transfer function used by the other add transfer function </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srcUser</em>&nbsp;</td><td>the source user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcMachineName</em>&nbsp;</td><td>the source host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcUserKey</em>&nbsp;</td><td>the source user private key path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destUser</em>&nbsp;</td><td>the destination user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destMachineName</em>&nbsp;</td><td>the destination machine name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>the transfer options </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the service succeeds or an error code otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a73de2897fd2e10695fc8cbfa0a1f4446"></a><!-- doxytag: member="FileTransferServer::checkTransferId" ref="a73de2897fd2e10695fc8cbfa0a1f4446" args="(std::string transferId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void FileTransferServer::checkTransferId </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>transferId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To check if the transfer identifier exists. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transferId</em>&nbsp;</td><td>the transfer identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af0dbce6cdaeaf7fd5df4cd19c9b51222"></a><!-- doxytag: member="FileTransferServer::checkUserId" ref="af0dbce6cdaeaf7fd5df4cd19c9b51222" args="(std::string userId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void FileTransferServer::checkUserId </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>userId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To check if the user identifier exists. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>userId</em>&nbsp;</td><td>the user identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6ee07b8fe009fe330bee05339f1b0b1d"></a><!-- doxytag: member="FileTransferServer::cleanOutputMsg" ref="a6ee07b8fe009fe330bee05339f1b0b1d" args="(const std::string &amp;outputMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static std::string FileTransferServer::cleanOutputMsg </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>outputMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A helper function to clean output message from verbosity. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>outputMsg</em>&nbsp;</td><td>the output message </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the cleaned output message </dd></dl>

</div>
</div>
<a class="anchor" id="aa791e828eb3aa23f3935273bed57af3b"></a><!-- doxytag: member="FileTransferServer::copy" ref="aa791e828eb3aa23f3935273bed57af3b" args="(const TransferExec &amp;transferExec, const std::string &amp;trCmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileTransferServer::copy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTransferExec.html">TransferExec</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transferExec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>trCmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To perform a copy transfer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transferExec</em>&nbsp;</td><td>the information about the transfer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trCmd</em>&nbsp;</td><td>the transfer command </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a97fb412a9ccaedab645d1ee13376cd4f"></a><!-- doxytag: member="FileTransferServer::filterString" ref="a97fb412a9ccaedab645d1ee13376cd4f" args="(const std::string &amp;toFilter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static std::string FileTransferServer::filterString </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>toFilter</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To remove some characters from string. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>toFilter</em>&nbsp;</td><td>the string to filter </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The cleaned string </dd></dl>

</div>
</div>
<a class="anchor" id="a098c41a68962d23c89de533db7e4bc1b"></a><!-- doxytag: member="FileTransferServer::getDatabaseInstance" ref="a098c41a68962d23c89de533db7e4bc1b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classDatabase.html">Database</a>* FileTransferServer::getDatabaseInstance </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get A database instance to store file transfer information. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the database instance </dd></dl>

</div>
</div>
<a class="anchor" id="a45145cc8d6a5ef953ec040f834efa609"></a><!-- doxytag: member="FileTransferServer::getErrorFromDatabase" ref="a45145cc8d6a5ef953ec040f834efa609" args="(const std::string &amp;transferid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static std::string FileTransferServer::getErrorFromDatabase </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>transferid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get an error execution of file transfer from database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transferid</em>&nbsp;</td><td>the transfer identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the error message </dd></dl>

</div>
</div>
<a class="anchor" id="a74fdd9bba334ebc37fb92f7e58aa7656"></a><!-- doxytag: member="FileTransferServer::getFileTransfer" ref="a74fdd9bba334ebc37fb92f7e58aa7656" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const FMS_Data::FileTransfer&amp; FileTransferServer::getFileTransfer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get The file transfer information. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The file transfer information </dd></dl>

</div>
</div>
<a class="anchor" id="aed4fb1bbcb4a41dcdc2948ad16841da3"></a><!-- doxytag: member="FileTransferServer::getSSHCommand" ref="aed4fb1bbcb4a41dcdc2948ad16841da3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const std::string&amp; FileTransferServer::getSSHCommand </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the ssh command. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the ssh command </dd></dl>

</div>
</div>
<a class="anchor" id="aaee462f295558e3a8a09f9665cceae50"></a><!-- doxytag: member="FileTransferServer::getSSHPort" ref="aaee462f295558e3a8a09f9665cceae50" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const unsigned int FileTransferServer::getSSHPort </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the ssh port. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the ssh port </dd></dl>

</div>
</div>
<a class="anchor" id="ab150718ba4db1dd89a398f8a97325872"></a><!-- doxytag: member="FileTransferServer::getUserInfo" ref="ab150718ba4db1dd89a398f8a97325872" args="(std::string &amp;name, std::string &amp;userId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileTransferServer::getUserInfo </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>userId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To get the client machine name and userId from database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>to store the client machine name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userId</em>&nbsp;</td><td>to store the userId </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2c1a6715aa823eb3cda6f7bb044628dc"></a><!-- doxytag: member="FileTransferServer::logIntoDatabase" ref="a2c1a6715aa823eb3cda6f7bb044628dc" args="(int processId=&#45;1, const std::string &amp;errorMsg=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileTransferServer::logIntoDatabase </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>processId</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>errorMsg</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To store file transfer information into database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>processId</em>&nbsp;</td><td>the transfer process identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errorMsg</em>&nbsp;</td><td>the eventual file transfer execution error message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0825a813c09aaa4c63de51716ac440fd"></a><!-- doxytag: member="FileTransferServer::move" ref="a0825a813c09aaa4c63de51716ac440fd" args="(const TransferExec &amp;transferExec, const std::string &amp;trCmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileTransferServer::move </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTransferExec.html">TransferExec</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transferExec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>trCmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To perform a move transfer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transferExec</em>&nbsp;</td><td>the information about the transfer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trCmd</em>&nbsp;</td><td>the transfer command </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4f086a80ff1a621709b6c153bdabc5b5"></a><!-- doxytag: member="FileTransferServer::processOptions" ref="a4f086a80ff1a621709b6c153bdabc5b5" args="(const FMS_Data::StopTransferOptions &amp;options, std::string &amp;sqlRequest)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileTransferServer::processOptions </td>
          <td>(</td>
          <td class="paramtype">const FMS_Data::StopTransferOptions &amp;&nbsp;</td>
          <td class="paramname"> <em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>sqlRequest</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To process database query options. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>the stop options </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sqlRequest</em>&nbsp;</td><td>the sql request </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9b1c4473cbfda5b90ef0e245fea1967a"></a><!-- doxytag: member="FileTransferServer::setFileTransfer" ref="a9b1c4473cbfda5b90ef0e245fea1967a" args="(const FMS_Data::FileTransfer &amp;fileTransfer) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileTransferServer::setFileTransfer </td>
          <td>(</td>
          <td class="paramtype">const FMS_Data::FileTransfer &amp;&nbsp;</td>
          <td class="paramname"> <em>fileTransfer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update The file transfer information. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileTransfer</em>&nbsp;</td><td>The new file transfer information </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8cb07d4d9d4235dabcc333c9f6bdff03"></a><!-- doxytag: member="FileTransferServer::setSSHCommand" ref="a8cb07d4d9d4235dabcc333c9f6bdff03" args="(const std::string &amp;sshCommand)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void FileTransferServer::setSSHCommand </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>sshCommand</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the ssh command. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sshCommand</em>&nbsp;</td><td>The new ssh command </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9508d87be5880b7dc3fba61738815e70"></a><!-- doxytag: member="FileTransferServer::setSSHPort" ref="a9508d87be5880b7dc3fba61738815e70" args="(const unsigned int sshPort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void FileTransferServer::setSSHPort </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&nbsp;</td>
          <td class="paramname"> <em>sshPort</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the ssh port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sshPort</em>&nbsp;</td><td>The new ssh port </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9a2974fdbd80f765d3727ed74e38c9b7"></a><!-- doxytag: member="FileTransferServer::stopThread" ref="a9a2974fdbd80f765d3727ed74e38c9b7" args="(const std::string &amp;transferid, const int &amp;pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileTransferServer::stopThread </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>transferid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&nbsp;</td>
          <td class="paramname"> <em>pid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To stop a transfer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transferid</em>&nbsp;</td><td>the transfer identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>the transfer process identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the process succeeds or an error code otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a6fefd4ae4019a033f4752ef6f887e260"></a><!-- doxytag: member="FileTransferServer::stopThread" ref="a6fefd4ae4019a033f4752ef6f887e260" args="(const StopTransferOptions &amp;options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileTransferServer::stopThread </td>
          <td>(</td>
          <td class="paramtype">const StopTransferOptions &amp;&nbsp;</td>
          <td class="paramname"> <em>options</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To stop a file transfer thread. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>the stop file transfer options </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the service succeeds or an error code otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a05bff800da5a38808ccd9396d02ddd52"></a><!-- doxytag: member="FileTransferServer::updateStatus" ref="a05bff800da5a38808ccd9396d02ddd52" args="(const FMS_Data::Status &amp;status, const std::string &amp;transferId, const std::string &amp;errorMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileTransferServer::updateStatus </td>
          <td>(</td>
          <td class="paramtype">const FMS_Data::Status &amp;&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>transferId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>errorMsg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To Update file transfer data in database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>the last execution status </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>transferId</em>&nbsp;</td><td>the transfer identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errorMsg</em>&nbsp;</td><td>the eventual file transfer execution error message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>FMS/src/server/<a class="el" href="FileTransferServer_8hpp_source.html">FileTransferServer.hpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Jan 19 2012 09:38:43 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
