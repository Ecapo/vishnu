<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>UserServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>UserServer Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="UserServer" -->
<p><a class="el" href="classUserServer.html" title="UserServer class implementation.">UserServer</a> class implementation.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="UserServer_8hpp_source.html">UserServer.hpp</a>&gt;</code></p>

<p><a href="classUserServer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a64281da3f0076b3273bf9e83123211a2">UserServer</a> (std::string userId, std::string password)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#a64281da3f0076b3273bf9e83123211a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a5b19188b031a3ab5fc40cabc2a097b1d">UserServer</a> (const UMS_Data::User &amp;user)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#a5b19188b031a3ab5fc40cabc2a097b1d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a2a8ac1a46357a5fb7d10ea741b534b3d">UserServer</a> (<a class="el" href="classSessionServer.html">SessionServer</a> sessionServer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#a2a8ac1a46357a5fb7d10ea741b534b3d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a86ac31bb630ea859c06bc1127eea2c9a">add</a> (UMS_Data::User *&amp;user, int vishnuId, std::string sendmailScriptPath)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to add a new VISHNU user.  <a href="#a86ac31bb630ea859c06bc1127eea2c9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a6653ef686b1622001ca6b211da5d9f3b">update</a> (UMS_Data::User *user)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to update user information.  <a href="#a6653ef686b1622001ca6b211da5d9f3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#acb26d67e359123b9b4b80fa007d37423">deleteUser</a> (UMS_Data::User user)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to delete VISHNU user.  <a href="#acb26d67e359123b9b4b80fa007d37423"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a63b49fc59574e8b81fde104f09a4585e">changePassword</a> (std::string newPassword)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to change VISHNU user password.  <a href="#a63b49fc59574e8b81fde104f09a4585e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#ad25cf22ec48e1519df9fd68b1d66a36d">resetPassword</a> (UMS_Data::User &amp;user, std::string sendmailScriptPath)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to change VISHNU user password.  <a href="#ad25cf22ec48e1519df9fd68b1d66a36d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a12cc28c2c2c5b3c88d2f760c97bd088d"></a><!-- doxytag: member="UserServer::~UserServer" ref="a12cc28c2c2c5b3c88d2f760c97bd088d" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a12cc28c2c2c5b3c88d2f760c97bd088d">~UserServer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UMS_Data::User&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a539501563b61edfcb374ad6954b3d930">getData</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get user information.  <a href="#a539501563b61edfcb374ad6954b3d930"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0aad281d77ffbe98423f3275884781c1"></a><!-- doxytag: member="UserServer::init" ref="a0aad281d77ffbe98423f3275884781c1" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a0aad281d77ffbe98423f3275884781c1">init</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to initialize user data for constructor with sessionServer. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a26ccae7a3b8ee7e62e2224312119aece">exist</a> (bool flagForChangePwd=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to check user on database.  <a href="#a26ccae7a3b8ee7e62e2224312119aece"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a7dab9117c2ca5a706bb674e43b183255">isAdmin</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to check the VISHNU user privilege.  <a href="#a7dab9117c2ca5a706bb674e43b183255"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#aecc5dd38cacf2460a187f6e751000c9a">isAttributOk</a> (std::string attributName, int valueOk)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to check the user attribut value.  <a href="#aecc5dd38cacf2460a187f6e751000c9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#aaabcde0c694987b990a3ba1af445f718">getAttribut</a> (std::string condition, std::string attrname=&quot;numuserid&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get user information from the database vishnu.  <a href="#aaabcde0c694987b990a3ba1af445f718"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#ac61e9715aa922ad746ecd8f788130834">existuserId</a> (std::string userId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to check a userId.  <a href="#ac61e9715aa922ad746ecd8f788130834"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a9ad90b441d2caa41be086f046bc58d62">getUserAccountLogin</a> (const std::string &amp;machineId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get the user account login.  <a href="#a9ad90b441d2caa41be086f046bc58d62"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a61f17775588f641c30035349e5e8bfef">generatePassword</a> (std::string value1, std::string value2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to generate a password.  <a href="#a61f17775588f641c30035349e5e8bfef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#ac4e5db25963346be0bc57f5b61a1ad59">sendMailToUser</a> (const UMS_Data::User &amp;user, std::string content, std::string subject, std::string sendmailScriptPath)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to send an email to the user.  <a href="#ac4e5db25963346be0bc57f5b61a1ad59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a4896a5d7bd51b8ad24cf6864ba400487">getMailContent</a> (const UMS_Data::User &amp;user, bool flagAdduser)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get the email content.  <a href="#a4896a5d7bd51b8ad24cf6864ba400487"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6ce31683fb8b809052ddc54f1ec95b4"></a><!-- doxytag: member="UserServer::muser" ref="ac6ce31683fb8b809052ddc54f1ec95b4" args="" -->
UMS_Data::User&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#ac6ce31683fb8b809052ddc54f1ec95b4">muser</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The user data structure. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7917e4e9597c28a5170d169e8ef09c9b"></a><!-- doxytag: member="UserServer::mdatabaseVishnu" ref="a7917e4e9597c28a5170d169e8ef09c9b" args="" -->
<a class="el" href="classDatabase.html">Database</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a7917e4e9597c28a5170d169e8ef09c9b">mdatabaseVishnu</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An instance of vishnu database. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74e667762e96a81bc42c686a0e598e09"></a><!-- doxytag: member="UserServer::msessionServer" ref="a74e667762e96a81bc42c686a0e598e09" args="" -->
<a class="el" href="classSessionServer.html">SessionServer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserServer.html#a74e667762e96a81bc42c686a0e598e09">msessionServer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An object which encapsulates session data. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classUserServer.html" title="UserServer class implementation.">UserServer</a> class implementation. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a64281da3f0076b3273bf9e83123211a2"></a><!-- doxytag: member="UserServer::UserServer" ref="a64281da3f0076b3273bf9e83123211a2" args="(std::string userId, std::string password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UserServer::UserServer </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>userId</em>&nbsp;</td><td>The userId of the user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td>The password of the user </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5b19188b031a3ab5fc40cabc2a097b1d"></a><!-- doxytag: member="UserServer::UserServer" ref="a5b19188b031a3ab5fc40cabc2a097b1d" args="(const UMS_Data::User &amp;user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UserServer::UserServer </td>
          <td>(</td>
          <td class="paramtype">const UMS_Data::User &amp;&nbsp;</td>
          <td class="paramname"> <em>user</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>The user data structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2a8ac1a46357a5fb7d10ea741b534b3d"></a><!-- doxytag: member="UserServer::UserServer" ref="a2a8ac1a46357a5fb7d10ea741b534b3d" args="(SessionServer sessionServer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UserServer::UserServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSessionServer.html">SessionServer</a>&nbsp;</td>
          <td class="paramname"> <em>sessionServer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sessionServer</em>&nbsp;</td><td>The object to manipulate session </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a86ac31bb630ea859c06bc1127eea2c9a"></a><!-- doxytag: member="UserServer::add" ref="a86ac31bb630ea859c06bc1127eea2c9a" args="(UMS_Data::User *&amp;user, int vishnuId, std::string sendmailScriptPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UserServer::add </td>
          <td>(</td>
          <td class="paramtype">UMS_Data::User *&amp;&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>vishnuId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>sendmailScriptPath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to add a new VISHNU user. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>The user data structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vishnuId</em>&nbsp;</td><td>The identifier of the vishnu instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sendmailScriptPath</em>&nbsp;</td><td>The path to the script for sending emails </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="a63b49fc59574e8b81fde104f09a4585e"></a><!-- doxytag: member="UserServer::changePassword" ref="a63b49fc59574e8b81fde104f09a4585e" args="(std::string newPassword)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UserServer::changePassword </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>newPassword</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to change VISHNU user password. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>newPassword</em>&nbsp;</td><td>The new password of the user </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="acb26d67e359123b9b4b80fa007d37423"></a><!-- doxytag: member="UserServer::deleteUser" ref="acb26d67e359123b9b4b80fa007d37423" args="(UMS_Data::User user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UserServer::deleteUser </td>
          <td>(</td>
          <td class="paramtype">UMS_Data::User&nbsp;</td>
          <td class="paramname"> <em>user</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to delete VISHNU user. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>The user data structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="a26ccae7a3b8ee7e62e2224312119aece"></a><!-- doxytag: member="UserServer::exist" ref="a26ccae7a3b8ee7e62e2224312119aece" args="(bool flagForChangePwd=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UserServer::exist </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>flagForChangePwd</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to check user on database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>flagForChangePwd</em>&nbsp;</td><td>A flag to check the password state </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the password state has not to be checked else false </dd></dl>

</div>
</div>
<a class="anchor" id="ac61e9715aa922ad746ecd8f788130834"></a><!-- doxytag: member="UserServer::existuserId" ref="ac61e9715aa922ad746ecd8f788130834" args="(std::string userId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UserServer::existuserId </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>userId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to check a userId. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>userId</em>&nbsp;</td><td>The userId to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the userId exists </dd></dl>

</div>
</div>
<a class="anchor" id="a61f17775588f641c30035349e5e8bfef"></a><!-- doxytag: member="UserServer::generatePassword" ref="a61f17775588f641c30035349e5e8bfef" args="(std::string value1, std::string value2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UserServer::generatePassword </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>value1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>value2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to generate a password. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value1</em>&nbsp;</td><td>a string used to generate the password </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value2</em>&nbsp;</td><td>a string used to generate the password </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>an encrypted message </dd></dl>

</div>
</div>
<a class="anchor" id="aaabcde0c694987b990a3ba1af445f718"></a><!-- doxytag: member="UserServer::getAttribut" ref="aaabcde0c694987b990a3ba1af445f718" args="(std::string condition, std::string attrname=&quot;numuserid&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UserServer::getAttribut </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>attrname</em> = <code>&quot;numuserid&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to get user information from the database vishnu. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>condition</em>&nbsp;</td><td>The condition of the select request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>attrname</em>&nbsp;</td><td>the name of the attribut to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the value of the attribut or empty string if no results </dd></dl>

</div>
</div>
<a class="anchor" id="a539501563b61edfcb374ad6954b3d930"></a><!-- doxytag: member="UserServer::getData" ref="a539501563b61edfcb374ad6954b3d930" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UMS_Data::User UserServer::getData </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to get user information. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The user data structure </dd></dl>

</div>
</div>
<a class="anchor" id="a4896a5d7bd51b8ad24cf6864ba400487"></a><!-- doxytag: member="UserServer::getMailContent" ref="a4896a5d7bd51b8ad24cf6864ba400487" args="(const UMS_Data::User &amp;user, bool flagAdduser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string UserServer::getMailContent </td>
          <td>(</td>
          <td class="paramtype">const UMS_Data::User &amp;&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>flagAdduser</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to get the email content. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>the user who will receives the email </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flagAdduser</em>&nbsp;</td><td>a flag which means that it is uses on adduser function </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the email content </dd></dl>

</div>
</div>
<a class="anchor" id="a9ad90b441d2caa41be086f046bc58d62"></a><!-- doxytag: member="UserServer::getUserAccountLogin" ref="a9ad90b441d2caa41be086f046bc58d62" args="(const std::string &amp;machineId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string UserServer::getUserAccountLogin </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>machineId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to get the user account login. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>machineId</em>&nbsp;</td><td>The machine identifier of machine on which the user have a account </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the user account login </dd></dl>

</div>
</div>
<a class="anchor" id="a7dab9117c2ca5a706bb674e43b183255"></a><!-- doxytag: member="UserServer::isAdmin" ref="a7dab9117c2ca5a706bb674e43b183255" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UserServer::isAdmin </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to check the VISHNU user privilege. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the user is an admin else false </dd></dl>

</div>
</div>
<a class="anchor" id="aecc5dd38cacf2460a187f6e751000c9a"></a><!-- doxytag: member="UserServer::isAttributOk" ref="aecc5dd38cacf2460a187f6e751000c9a" args="(std::string attributName, int valueOk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UserServer::isAttributOk </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>attributName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>valueOk</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to check the user attribut value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>attributName</em>&nbsp;</td><td>The name of the attribut to check </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>valueOk</em>&nbsp;</td><td>the value which will be compare to attribut name value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the attributName value is valueOk </dd></dl>

</div>
</div>
<a class="anchor" id="ad25cf22ec48e1519df9fd68b1d66a36d"></a><!-- doxytag: member="UserServer::resetPassword" ref="ad25cf22ec48e1519df9fd68b1d66a36d" args="(UMS_Data::User &amp;user, std::string sendmailScriptPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UserServer::resetPassword </td>
          <td>(</td>
          <td class="paramtype">UMS_Data::User &amp;&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>sendmailScriptPath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to change VISHNU user password. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>The user data structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sendmailScriptPath</em>&nbsp;</td><td>The path to the script for sending emails </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="ac4e5db25963346be0bc57f5b61a1ad59"></a><!-- doxytag: member="UserServer::sendMailToUser" ref="ac4e5db25963346be0bc57f5b61a1ad59" args="(const UMS_Data::User &amp;user, std::string content, std::string subject, std::string sendmailScriptPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UserServer::sendMailToUser </td>
          <td>(</td>
          <td class="paramtype">const UMS_Data::User &amp;&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>subject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>sendmailScriptPath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to send an email to the user. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>the user to whom send the email </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>content</em>&nbsp;</td><td>the body of the email </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>subject</em>&nbsp;</td><td>the subject of the email </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sendmailScriptPath</em>&nbsp;</td><td>The path to the script for sending emails </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The error or success code </dd></dl>

</div>
</div>
<a class="anchor" id="a6653ef686b1622001ca6b211da5d9f3b"></a><!-- doxytag: member="UserServer::update" ref="a6653ef686b1622001ca6b211da5d9f3b" args="(UMS_Data::User *user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UserServer::update </td>
          <td>(</td>
          <td class="paramtype">UMS_Data::User *&nbsp;</td>
          <td class="paramname"> <em>user</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to update user information. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>The user data structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>UMS/src/server/<a class="el" href="UserServer_8hpp_source.html">UserServer.hpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 8 2011 10:36:09 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
