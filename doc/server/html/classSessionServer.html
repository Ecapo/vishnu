<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SessionServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>SessionServer Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="SessionServer" -->
<p><a class="el" href="classUserServer.html" title="UserServer class implementation.">UserServer</a> class implementation.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SessionServer_8hpp_source.html">SessionServer.hpp</a>&gt;</code></p>

<p><a href="classSessionServer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a473b02addc08564c164faa1ea77575"></a><!-- doxytag: member="SessionServer::SessionServer" ref="a8a473b02addc08564c164faa1ea77575" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a8a473b02addc08564c164faa1ea77575">SessionServer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#ab08e4536bb4721e4f0134c60cce12f91">SessionServer</a> (std::string sessionKey)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#ab08e4536bb4721e4f0134c60cce12f91"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#aecde9b72364184948e1a0ebdb747d52c">SessionServer</a> (const UMS_Data::Session &amp;session)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#aecde9b72364184948e1a0ebdb747d52c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a6ef9ca5f9b6613aa9dd8ad072efafccc">connectSession</a> (<a class="el" href="classUserServer.html">UserServer</a> user, <a class="el" href="classMachineClientServer.html">MachineClientServer</a> host, UMS_Data::ConnectOptions *connectOpt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to connect the session.  <a href="#a6ef9ca5f9b6613aa9dd8ad072efafccc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a01efa9d1722806ededc76da544590b88">reconnect</a> (<a class="el" href="classUserServer.html">UserServer</a> user, <a class="el" href="classMachineClientServer.html">MachineClientServer</a> host, std::string sessionId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to reconnect the session.  <a href="#a01efa9d1722806ededc76da544590b88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a988e014536e580c59c920bc55d201f24">close</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to close the session.  <a href="#a988e014536e580c59c920bc55d201f24"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5d1074c861360c8052a2f523f47b8f8"></a><!-- doxytag: member="SessionServer::~SessionServer" ref="aa5d1074c861360c8052a2f523f47b8f8" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#aa5d1074c861360c8052a2f523f47b8f8">~SessionServer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UMS_Data::Session&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a4c23b390fd8d49b83f34a57c1d7e1b23">getData</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get the session information.  <a href="#a4c23b390fd8d49b83f34a57c1d7e1b23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#af3fce86cf1e28afee1b44ac35b925925">getAttribut</a> (std::string condition, std::string attrname=&quot;sessionkey&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get user information from the database vishnu.  <a href="#af3fce86cf1e28afee1b44ac35b925925"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a479f3e2aee3b4c5009e8f496612ae9bc">saveConnection</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to save the date of the last connection.  <a href="#a479f3e2aee3b4c5009e8f496612ae9bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDatabaseResult.html">DatabaseResult</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a21db5603b7a91581d5860d1b24f38cd5">getSessionToclosebyTimeout</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get the list of sessions with close on timeout mode to close.  <a href="#a21db5603b7a91581d5860d1b24f38cd5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a97647ee61a04b91e9b220fb0700910b7">check</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to make a complete checking of the session key.  <a href="#a97647ee61a04b91e9b220fb0700910b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#ab1a59010af4f2e4f9ad19c078a38e1b0">finish</a> (std::string cmdDescription, <a class="el" href="namespacevishnu.html#a89462b396eca68c9c1a94a06d2f39532">CmdType</a> cmdType, <a class="el" href="namespacevishnu.html#a5513f86dabac3cd717c915498a7679ad">CmdStatus</a> cmdStatus, std::string newVishnuObjectID=&quot;&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to finalize the service.  <a href="#ab1a59010af4f2e4f9ad19c078a38e1b0"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a2e33c0fefafc3cf9256a031b648fe20d">generateSessionKey</a> (std::string salt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to generate the session key.  <a href="#a2e33c0fefafc3cf9256a031b648fe20d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a1e183bdc40894f3ed77ec57c75d8201f">generateSessionId</a> (std::string userId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to generate the session identifier.  <a href="#a1e183bdc40894f3ed77ec57c75d8201f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a1485d4253466f28c4191210ea843a7d9">recordSessionServer</a> (std::string idmachine, std::string iduser)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to record the session on the database.  <a href="#a1485d4253466f28c4191210ea843a7d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#af9416a5a26dcb63589480a73a1d60cf1">exist</a> (bool flagSessionId=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to check the session on database.  <a href="#af9416a5a26dcb63589480a73a1d60cf1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a297167a64f374c538e8f7a719c5771e7">getState</a> (bool flagSessionId=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to check the session on database.  <a href="#a297167a64f374c538e8f7a719c5771e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#aa31001984aba984a1374e4088ffbbb6f">getSessionkey</a> (std::string idmachine, std::string iduser, bool flagAdmin=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to check the session on database.  <a href="#aa31001984aba984a1374e4088ffbbb6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#af64544a743117d025df4248e82de2321">solveConnectionMode</a> (UMS_Data::ConnectOptions *connectOpt, std::string numuserId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to solve the session connection parameters.  <a href="#af64544a743117d025df4248e82de2321"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a6dd2ad0cba4c14cb23beb28b19dde390">disconnetToTimeout</a> (<a class="el" href="classUserServer.html">UserServer</a> user)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to change the closure connection mode disconnet to timeout.  <a href="#a6dd2ad0cba4c14cb23beb28b19dde390"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acad3f309e8c4ac30ecb2458c1bc830bb"></a><!-- doxytag: member="SessionServer::msession" ref="acad3f309e8c4ac30ecb2458c1bc830bb" args="" -->
UMS_Data::Session&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#acad3f309e8c4ac30ecb2458c1bc830bb">msession</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The session data structure. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a050132782999456a25c7bd0651b30558"></a><!-- doxytag: member="SessionServer::mdatabaseVishnu" ref="a050132782999456a25c7bd0651b30558" args="" -->
<a class="el" href="classDatabase.html">Database</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionServer.html#a050132782999456a25c7bd0651b30558">mdatabaseVishnu</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An instance of vishnu database. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classUserServer.html" title="UserServer class implementation.">UserServer</a> class implementation. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab08e4536bb4721e4f0134c60cce12f91"></a><!-- doxytag: member="SessionServer::SessionServer" ref="ab08e4536bb4721e4f0134c60cce12f91" args="(std::string sessionKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SessionServer::SessionServer </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>sessionKey</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sessionKey</em>&nbsp;</td><td>The session key of the session </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aecde9b72364184948e1a0ebdb747d52c"></a><!-- doxytag: member="SessionServer::SessionServer" ref="aecde9b72364184948e1a0ebdb747d52c" args="(const UMS_Data::Session &amp;session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SessionServer::SessionServer </td>
          <td>(</td>
          <td class="paramtype">const UMS_Data::Session &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>The session data structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a97647ee61a04b91e9b220fb0700910b7"></a><!-- doxytag: member="SessionServer::check" ref="a97647ee61a04b91e9b220fb0700910b7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::check </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to make a complete checking of the session key. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="a988e014536e580c59c920bc55d201f24"></a><!-- doxytag: member="SessionServer::close" ref="a988e014536e580c59c920bc55d201f24" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::close </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to close the session. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="a6ef9ca5f9b6613aa9dd8ad072efafccc"></a><!-- doxytag: member="SessionServer::connectSession" ref="a6ef9ca5f9b6613aa9dd8ad072efafccc" args="(UserServer user, MachineClientServer host, UMS_Data::ConnectOptions *connectOpt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::connectSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUserServer.html">UserServer</a>&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMachineClientServer.html">MachineClientServer</a>&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UMS_Data::ConnectOptions *&nbsp;</td>
          <td class="paramname"> <em>connectOpt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to connect the session. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>The object which manipulates user information </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>The object which manipulates client machine information </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>connectOpt</em>&nbsp;</td><td>The options data structure for connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="a6dd2ad0cba4c14cb23beb28b19dde390"></a><!-- doxytag: member="SessionServer::disconnetToTimeout" ref="a6dd2ad0cba4c14cb23beb28b19dde390" args="(UserServer user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::disconnetToTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUserServer.html">UserServer</a>&nbsp;</td>
          <td class="paramname"> <em>user</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to change the closure connection mode disconnet to timeout. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>The object which manipulates user information </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the new connection parameters are registered on the session data structure </dd></dl>

</div>
</div>
<a class="anchor" id="af9416a5a26dcb63589480a73a1d60cf1"></a><!-- doxytag: member="SessionServer::exist" ref="af9416a5a26dcb63589480a73a1d60cf1" args="(bool flagSessionId=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SessionServer::exist </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>flagSessionId</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to check the session on database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>flagSessionId</em>&nbsp;</td><td>A flag to check the session id </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the session key (or sessionId) exists else false </dd></dl>

</div>
</div>
<a class="anchor" id="ab1a59010af4f2e4f9ad19c078a38e1b0"></a><!-- doxytag: member="SessionServer::finish" ref="ab1a59010af4f2e4f9ad19c078a38e1b0" args="(std::string cmdDescription, CmdType cmdType, CmdStatus cmdStatus, std::string newVishnuObjectID=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::finish </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>cmdDescription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevishnu.html#a89462b396eca68c9c1a94a06d2f39532">CmdType</a>&nbsp;</td>
          <td class="paramname"> <em>cmdType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevishnu.html#a5513f86dabac3cd717c915498a7679ad">CmdStatus</a>&nbsp;</td>
          <td class="paramname"> <em>cmdStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>newVishnuObjectID</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to finalize the service. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmdDescription</em>&nbsp;</td><td>The description of the command </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmdType</em>&nbsp;</td><td>The type of the command (UMS, TMS, FMS, IMS) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmdStatus</em>&nbsp;</td><td>The status of the command </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newVishnuObjectID</em>&nbsp;</td><td>the new vishnu object Id </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="a1e183bdc40894f3ed77ec57c75d8201f"></a><!-- doxytag: member="SessionServer::generateSessionId" ref="a1e183bdc40894f3ed77ec57c75d8201f" args="(std::string userId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::generateSessionId </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>userId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to generate the session identifier. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>userId</em>&nbsp;</td><td>the userId of the owner of the session </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>record the the session id on the session data structure </dd></dl>

</div>
</div>
<a class="anchor" id="a2e33c0fefafc3cf9256a031b648fe20d"></a><!-- doxytag: member="SessionServer::generateSessionKey" ref="a2e33c0fefafc3cf9256a031b648fe20d" args="(std::string salt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::generateSessionKey </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>salt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to generate the session key. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>salt</em>&nbsp;</td><td>This string is used to perturb the algorithm </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>an encrypted message registered on the session data structure </dd></dl>

</div>
</div>
<a class="anchor" id="af3fce86cf1e28afee1b44ac35b925925"></a><!-- doxytag: member="SessionServer::getAttribut" ref="af3fce86cf1e28afee1b44ac35b925925" args="(std::string condition, std::string attrname=&quot;sessionkey&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SessionServer::getAttribut </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>attrname</em> = <code>&quot;sessionkey&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to get user information from the database vishnu. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>condition</em>&nbsp;</td><td>The condition of the select request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>attrname</em>&nbsp;</td><td>the name of the attribut to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the value of the attribut or empty string if no results </dd></dl>

</div>
</div>
<a class="anchor" id="a4c23b390fd8d49b83f34a57c1d7e1b23"></a><!-- doxytag: member="SessionServer::getData" ref="a4c23b390fd8d49b83f34a57c1d7e1b23" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UMS_Data::Session SessionServer::getData </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to get the session information. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The session data structure </dd></dl>

</div>
</div>
<a class="anchor" id="aa31001984aba984a1374e4088ffbbb6f"></a><!-- doxytag: member="SessionServer::getSessionkey" ref="aa31001984aba984a1374e4088ffbbb6f" args="(std::string idmachine, std::string iduser, bool flagAdmin=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::getSessionkey </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>idmachine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>iduser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>flagAdmin</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to check the session on database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>idmachine</em>&nbsp;</td><td>the database number id of the client machine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iduser</em>&nbsp;</td><td>the database number id of the owner of the session </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flagAdmin</em>&nbsp;</td><td>A flag for an admin to get the session key from another user </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success and -1 if there is no results </dd></dl>

</div>
</div>
<a class="anchor" id="a21db5603b7a91581d5860d1b24f38cd5"></a><!-- doxytag: member="SessionServer::getSessionToclosebyTimeout" ref="a21db5603b7a91581d5860d1b24f38cd5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDatabaseResult.html">DatabaseResult</a> * SessionServer::getSessionToclosebyTimeout </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to get the list of sessions with close on timeout mode to close. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the list of results </dd></dl>

</div>
</div>
<a class="anchor" id="a297167a64f374c538e8f7a719c5771e7"></a><!-- doxytag: member="SessionServer::getState" ref="a297167a64f374c538e8f7a719c5771e7" args="(bool flagSessionId=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::getState </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>flagSessionId</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to check the session on database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>flagSessionId</em>&nbsp;</td><td>A flag to check the session identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the session status </dd></dl>

</div>
</div>
<a class="anchor" id="a01efa9d1722806ededc76da544590b88"></a><!-- doxytag: member="SessionServer::reconnect" ref="a01efa9d1722806ededc76da544590b88" args="(UserServer user, MachineClientServer host, std::string sessionId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUserServer.html">UserServer</a>&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMachineClientServer.html">MachineClientServer</a>&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>sessionId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to reconnect the session. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>The object which manipulates user information </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>The object which manipulates client machine information </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sessionId</em>&nbsp;</td><td>The session identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="a1485d4253466f28c4191210ea843a7d9"></a><!-- doxytag: member="SessionServer::recordSessionServer" ref="a1485d4253466f28c4191210ea843a7d9" args="(std::string idmachine, std::string iduser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::recordSessionServer </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>idmachine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>iduser</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to record the session on the database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>idmachine</em>&nbsp;</td><td>the database number id of the client machine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iduser</em>&nbsp;</td><td>the database number id of the owner of the session </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>record the the session id on the session data structure </dd></dl>

</div>
</div>
<a class="anchor" id="a479f3e2aee3b4c5009e8f496612ae9bc"></a><!-- doxytag: member="SessionServer::saveConnection" ref="a479f3e2aee3b4c5009e8f496612ae9bc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::saveConnection </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to save the date of the last connection. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>raises an exception on error </dd></dl>

</div>
</div>
<a class="anchor" id="af64544a743117d025df4248e82de2321"></a><!-- doxytag: member="SessionServer::solveConnectionMode" ref="af64544a743117d025df4248e82de2321" args="(UMS_Data::ConnectOptions *connectOpt, std::string numuserId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SessionServer::solveConnectionMode </td>
          <td>(</td>
          <td class="paramtype">UMS_Data::ConnectOptions *&nbsp;</td>
          <td class="paramname"> <em>connectOpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>numuserId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to solve the session connection parameters. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectOpt</em>&nbsp;</td><td>the connection parameters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numuserId</em>&nbsp;</td><td>the database number id of the user to connect </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the connection parameters are registered on the session data structure </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>UMS/src/server/<a class="el" href="SessionServer_8hpp_source.html">SessionServer.hpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Jun 14 2011 23:13:16 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
